{"version":3,"sources":["webpack:///./src/views/Maps/VectorMaps.vue?5d76","webpack:///./src/views/Calendar/Calendar.vue?4b68","webpack:///./node_modules/@fullcalendar/interaction/main.js","webpack:///./node_modules/@fullcalendar/timegrid/main.js","webpack:///src/views/Calendar/Calendar.vue","webpack:///./src/views/Calendar/Calendar.vue?d62e","webpack:///./src/views/Calendar/Calendar.vue","webpack:///./src/views/Maps/GoogleMaps.vue?f4f5","webpack:///./node_modules/@googlemaps/js-api-loader/dist/index.esm.js","webpack:///src/views/Maps/GoogleMaps.vue","webpack:///./src/views/Maps/GoogleMaps.vue?8a0d","webpack:///./src/views/Maps/GoogleMaps.vue","webpack:///./src/views/Calendar/Calendar.vue?b0b6","webpack:///./src/views/Maps/VectorMaps.vue?a7eb","webpack:///src/views/Maps/VectorMaps.vue","webpack:///./src/views/Maps/VectorMaps.vue?91af","webpack:///./src/views/Maps/VectorMaps.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","$route","name","attrs","on","$event","preventDefault","prev","apply","arguments","next","changeView","_m","showAddModal","scopedSlots","_u","key","fn","saveEvent","proxy","model","value","callback","$$v","$set","expression","_l","color","class","className","directives","rawName","domProps","_q","showEditModal","editEvent","deleteEvent","target","composing","staticRenderFns","touchMouseIgnoreWait","ignoreMouseDepth","listenerCnt","isWindowTouchMoveCancelled","PointerDragging","containerEl","_this","subjectEl","selector","handleSelector","shouldIgnoreMove","shouldWatchScroll","isDragging","isTouchDragging","wasTouchScroll","handleMouseDown","ev","shouldIgnoreMouse","isPrimaryMouseButton","tryStart","pev","createEventFromMouse","emitter","trigger","initScrollWatch","document","addEventListener","handleMouseMove","handleMouseUp","recordCoords","removeEventListener","cleanup","handleTouchStart","createEventFromTouch","targetEl","handleTouchMove","handleTouchEnd","window","handleTouchScroll","startIgnoringMouse","handleScroll","pageX","pageXOffset","prevScrollX","prevPageX","pageY","pageYOffset","prevScrollY","prevPageY","origEvent","isTouch","deltaX","origPageX","deltaY","origPageY","passive","listenerCreated","prototype","destroy","listenerDestroyed","querySubjectEl","downEl","destroyScrollWatch","cancelTouchScroll","isFirst","touches","length","button","ctrlKey","setTimeout","onWindowTouchMove","ElementMirror","isVisible","sourceEl","mirrorEl","sourceElRect","parentNode","body","zIndex","revertDuration","start","getBoundingClientRect","origScreenX","origScreenY","updateElPosition","handleMove","setIsVisible","bool","style","display","stop","needsRevertAnimation","done","doRevertAnimation","finalSourceElRect","transition","left","top","getMirrorEl","cloneNode","classList","add","position","visibility","boxSizing","width","right","height","bottom","margin","appendChild","_super","ScrollGeomCache","scrollController","doesListening","call","scrollTop","getScrollTop","scrollLeft","getScrollLeft","handleScrollChange","origScrollTop","origScrollLeft","scrollWidth","getScrollWidth","scrollHeight","getScrollHeight","clientWidth","getClientWidth","clientHeight","getClientHeight","clientRect","computeClientRect","getEventTarget","setScrollTop","Math","max","min","getMaxScrollTop","setScrollLeft","getMaxScrollLeft","ElementScrollGeomCache","el","WindowScrollGeomCache","getTime","performance","now","Date","AutoScroller","isEnabled","scrollQuery","edgeThreshold","maxVelocity","pointerScreenX","pointerScreenY","isAnimating","scrollCaches","everMovedUp","everMovedDown","everMovedLeft","everMovedRight","animate","edge","computeBestEdge","handleSide","msSinceRequest","requestAnimation","scrollStartEl","buildCaches","yDelta","xDelta","_i","_a","scrollCache","requestAnimationFrame","seconds","invDistance","distance","velocity","sign","bestSide","rect","leftDist","rightDist","topDist","bottomDist","canScrollUp","canScrollDown","canScrollLeft","canScrollRight","queryScrollEls","map","els","query","push","Array","slice","querySelectorAll","FeaturefulElementDragging","delay","minDistance","touchScrollAllowed","mirrorNeedsRevert","isInteracting","isDelayEnded","isDistanceSurpassed","delayTimeoutId","onPointerDown","pointer","mirror","startDelay","handleDistanceSurpassed","onPointerMove","distanceSq","type","autoScroller","onPointerUp","tryStopDrag","clearTimeout","handleDelayEnd","tryStartDrag","stopDrag","bind","setIgnoreMove","setMirrorIsVisible","setMirrorNeedsRevert","setAutoScrollEnabled","OffsetTracker","origRect","scrollEl","computeLeft","computeTop","isWithinClipping","point","isIgnoredClipping","node","tagName","HitDragging","dragging","droppableStore","useSubjectCenter","requireInitial","initialHit","movingHit","finalHit","handlePointerDown","prepareHits","processFirstCoord","handleDragStart","handleDragMove","handlePointerUp","releaseHits","handleDragEnd","subjectRect","origPoint","adjustedPoint","HTMLElement","queryHitForOffset","slicedSubjectRect","coordAdjust","forceHandle","hit","isHitsEqual","offsetTrackers","interactionSettings","component","id","offsetLeft","offsetTop","bestHit","offsetTracker","originLeft","originTop","positionLeft","positionTop","queryHit","dateProfile","activeRange","dateSpan","range","layer","componentId","context","hit0","hit1","Boolean","buildDatePointApiWithContext","props","pluginHooks","datePointTransforms","transform","buildDatePointApi","dateEnv","span","date","toDate","dateStr","formatIso","omitTime","allDay","DateClicking","settings","isValidDateDownEl","hitDragging","arg","dayEl","jsEvent","view","viewApi","calendarApi","DateSelecting","dragSelection","options","canSelect","selectable","getComponentTouchDelay$1","unselect","handleHitUpdate","isFinal","isInvalid","disallowed","isHitComboAllowed","joinHitsIntoSelection","dateSelectionTransformers","dispatch","selection","selectMinDistance","dragScroll","selectLongPressDelay","longPressDelay","dateSpan0","dateSpan1","ms","end","sort","dateSelectionTransformers_1","transformer","res","EventDragging","subjectSeg","eventRange","relevantEvents","receivingContext","validMutation","mutatedRelevantEvents","origTarget","initialContext","eventInstanceId","instance","instanceId","getCurrentData","eventStore","eventDragMinDistance","eventSelection","getComponentTouchDelay","fixedMirrorParent","dragRevertDuration","isValid","isValidSegDownEl","contains","event","def","mutation","interaction","affectedEvents","mutatedEvents","isEvent","receivingOptions","editable","droppable","computeEventMutation","eventDragMutationMassagers","eventUiBases","displayDrag","querySelector","initialContext_1","initialView","receivingContext_1","eventDef","eventInstance","eventApi","relevantEvents_1","mutatedRelevantEvents_1","clearDrag","updatedEventApi","defs","defId","instances","eventChangeArg","oldEvent","relatedEvents","revert","transformed","_b","eventDropTransformers","delta","datesDelta","eventRemoveArg","draggedEl","addedEventDef","addedEventInstance","addedEventApi","eventAddArg","SELECTOR","useEventCenter","nextContext","state","prevContext","initialCalendar","massagers","date0","date1","standardProps","hasEnd","allDayMaintainDuration","largeUnit","milliseconds","massagers_1","massager","eventLongPressDelay","EventResizing","draggingSegEl","draggingSeg","segEl","querySegEl","seg","computeMutation","startDelta","endDelta","isFromStart","instanceRange","UnselectAuto","isRecentPointerDateSelect","matchesCancel","matchesEvent","onSelect","selectInfo","onDocumentPointerDown","unselectCancel","onDocumentPointerUp","documentPointer","calendarState","dateSelection","unselectAuto","off","OPTION_REFINERS","LISTENER_REFINERS","dateClick","eventDragStart","eventDragStop","eventDrop","eventResizeStart","eventResizeStop","eventResize","drop","eventReceive","eventLeave","ExternalElementDragging","suppliedDragMeta","droppableEvent","dragMeta","buildDragMeta","create","canDropElOnCalendar","computeEventForDateSpan","finalView","addingEvents_1","getDragMetaFromEl","dropAccept","defProps","leftoverProps","externalDefTransforms","refined","extra","sourceId","forceEventDuration","duration","startTime","str","getEmbeddedElData","obj","JSON","parse","prefix","dataAttrPrefix","prefixedName","getAttribute","ExternalDraggable","itemSelector","appendTo","eventData","InferredElementDragging","mirrorSelector","currentMirrorEl","handlePointerMove","ThirdPartyDraggable","containerOrSettings","Element","componentInteractions","calendarInteractions","elementDraggingImpl","optionRefiners","listenerRefiners","AllDaySplitter","getKeyInfo","timed","getKeysForDateSpan","getKeysForEventDef","DEFAULT_SLAT_LABEL_FORMAT","hour","minute","omitZeroMinute","meridiem","TimeColsAxisCell","classNames","isLabeled","Consumer","join","isoTimeStr","labelFormat","slotLabelFormat","isArray","hookProps","level","time","text","format","slotLabelClassNames","content","slotLabelContent","defaultContent","renderInnerContent","didMount","slotLabelDidMount","willUnmount","slotLabelWillUnmount","rootElRef","customClassNames","innerElRef","innerContent","ref","concat","TimeBodyAxis","slatMetas","slatMeta","DEFAULT_WEEK_NUM_FORMAT","week","AUTO_ALL_DAY_MAX_EVENT_ROWS","TimeColsView","allDaySplitter","headerElRef","scrollerElRef","slatCoords","handleScrollTopRequest","scrollerEl","current","renderHeadAxis","rowKey","frameHeight","renderRange","dayCnt","navLinkAttrs","navLinks","tabIndex","weekNumbers","defaultFormat","renderTableRowAxis","rowHeight","allDayText","allDayClassNames","allDayContent","renderAllDayInner","allDayDidMount","allDayWillUnmount","handleSlatCoords","setState","renderSimpleLayout","headerRowContent","timeContent","sections","stickyHeaderDates","isSticky","chunk","elRef","tableClassName","rowContent","outerContent","theme","getClass","liquid","expandRows","viewSpec","isHeightAuto","forPrint","collapsibleWidth","cols","renderHScrollLayout","colCnt","dayMinWidth","ScrollGrid","scrollGridImpl","Error","stickyFooterScrollbar","syncRowHeights","chunks","rowSyncHeights","contentArg","colSpan","isNowIndicator","nowIndicator","tableColGroupNode","unit","nowDate","nowIndicatorTop","safeComputeTop","isAxis","colGroups","minWidth","getAllDayMaxEventProps","dayMaxEvents","dayMaxEventRows","undefined","TimeColsSlatsCoords","positions","slotDuration","currentRange","startOfDayDate","timeMs","valueOf","slotMinTime","slotMaxTime","computeTimeTop","computeDateTop","when","slatIndex","slatRemainder","len","slatCoverage","floor","tops","getHeight","TimeColsSlatsBody","slatElRefs","i","createRef","axis","slotLaneClassNames","slotLaneContent","slotLaneDidMount","slotLaneWillUnmount","TimeColsSlats","tableMinWidth","minHeight","componentDidMount","updateSizing","componentDidUpdate","componentWillUnmount","onCoords","rootEl","offsetHeight","collectSlatEls","currentMap","elMap","splitSegsByCol","segs","segsByCol","col","splitInteractionByCol","ui","byRow","affectedInstances","TimeColMoreLink","allDayDate","moreCnt","hiddenSegs","allSegs","alignmentElRef","renderMoreLinkInner","extraDateSpan","todayRange","popoverContent","renderPlainFgSegs","handleClick","onClick","shortText","buildPositioning","segInputs","strictOrder","maxStackCnt","hierarchy","hiddenEntries","addSegs","hiddenGroups","web","buildWeb","stretchWeb","segRects","webToRects","entriesByLevel","buildNode","cacheable","lateral","siblingRange","findNextLevelSegs","nextLevelRes","buildNodes","entry","nextLevelNodes","thickness","lateralStart","lateralEnd","pairs","cmpDescPressures","extractNode","a","b","subjectLevel","subjectLateral","levelCoords","subjectEntry","afterSubject","levelCnt","entries","searchIndex","topLevelNodes","totalThickness","stretchNode","startCoord","prevThickness","endCoord","allThickness","thicknessFraction","newChildren","nextLevelNodes_1","childNode","newThickness","rects","processNode","levelCoord","stackDepth","stackForward","processNodes","nodes","nodes_1","keyFunc","workFunc","cache","args","computeSegVCoords","colDate","eventMinHeight","vcoords","spanStart","spanEnd","round","computeFgSegPlacements","segVCoords","eventOrderStrict","eventMaxStack","dumbSegs","index","segPlacements","segRects_1","segRect","dumbSegs_1","dumbSeg","DEFAULT_TIME_FORMAT","TimeColEvent","isShort","defaultTimeFormat","extraClassNames","TimeColMisc","extraHookProps","TimeCol","sortEventSegs","isSelectMirror","selectMirror","mirrorSegs","eventDrag","dateSelectionSegs","interactionAffectedInstances","sortedFgSegs","fgEventSegs","eventOrder","dataAttrs","extraDataAttrs","renderFillSegs","businessHourSegs","bgEventSegs","renderFgSegs","renderNowIndicator","nowIndicatorSegs","segIsInvisible","isResizing","isDateSelecting","renderPositionedFgSegs","eventShortHeight","isMirror","renderHiddenGroups","segPlacement","vStyle","computeSegVStyle","hStyle","computeSegHStyle","isInset","isSelected","hiddenGroup","positionCss","compileSegsFromEntries","fillType","children","segHCoords","isRtl","shouldOverlap","slotEventOverlap","nearCoord","farCoord","hiddenInstances","segEntries","segEntry","TimeColsContent","splitFgEventSegs","splitBgEventSegs","splitBusinessHourSegs","splitNowIndicatorSegs","splitDateSelectionSegs","splitEventDrag","splitEventResize","cellElRefs","cells","fgEventSegsByRow","bgEventSegsByRow","businessHourSegsByRow","nowIndicatorSegsByRow","dateSelectionSegsByRow","eventDragByRow","eventResizeByRow","cell","updateCoords","onColCoords","collectCellEls","TimeCols","processSlotOptions","handleRootEl","registerInteractiveComponent","unregisterInteractiveComponent","handleScrollRequest","request","onScrollTopRequest","top_1","ceil","handleColCoords","colCoords","onSlatCoords","scrollResponder","createScrollResponder","prevProps","update","detach","snapDuration","snapsPerSlot","colIndex","leftToIndex","topToIndex","slatTop","slatHeight","partial","localSnapIndex","snapIndex","dayDate","lefts","rights","snapDurationOverride","DayTimeColsSlicer","sliceRange","dayRanges","segRange","isStart","isEnd","DayTimeCols","buildDayRanges","slicer","timeColsRef","dayTableModel","sliceProps","sliceNowDate","ranges","headerDates","STOCK_SUB_DURATIONS","hours","minutes","buildSlatMetas","explicitLabelInterval","dayStart","slatTime","slatIterator","labelInterval","computeLabelInterval","metas","toISOString","slotsPerLabel","DayTimeColsView","buildTimeColsModel","dateProfileGenerator","splitProps","slotLabelInterval","hasAttachedAxis","hasDetachedAxis","headerContent","dayHeaders","dates","datesRepDistinctDays","renderIntro","allDaySlot","nextDayThreshold","colGroupNode","renderRowIntro","showWeekNumbers","headerAlignElRef","timeGridContent","daySeries","calendar","views","timeGrid","usesMinMaxTime","timeGridDay","days","timeGridWeek","weeks","components","RouteBreadCrumb","Modal","data","events","title","url","description","eventColors","methods","initCalendar","plugins","headerToolbar","select","eventClick","console","eventColor","mounted","staticStyle","fastDeepEqual","equal","constructor","keys","RegExp","source","flags","Object","toString","hasOwnProperty","DEFAULT_ID","Loader","apiKey","channel","client","libraries","language","region","version","mapIds","nonce","retries","CALLBACK","callbacks","loading","errors","stringify","loadPromise","Promise","resolve","reject","loadCallback","err","execute","getElementById","createUrl","script","createElement","src","onerror","loadErrorCallback","defer","async","head","remove","possibleAttempts","deleteScript","e","pow","log","setScript","onerrorEvent","__googleMapsCallback","forEach","cb","google","maps","warn","resetIfRetryingFailed","setCallback","loader","zoom","center","scrollwheel","disableDefaultUI","zoomControl","styles","featureType","elementType","stylers","saturation","lightness","mapOptions","marker","mapData","points","AsyncWorldMap","AUS","BRA","CAN","DEU","FRA","GBR","GEO","IND","ROU","RUS","USA","centered"],"mappings":"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","file":"js/extra.52eff2cc.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VectorMaps.vue?vue&type=style&index=0&id=69608983&prod&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('base-header',{staticClass:\"pb-6 content__title content__title--calendar\"},[_c('div',{staticClass:\"row align-items-center py-4\"},[_c('div',{staticClass:\"col-lg-6 col-7\"},[_c('h6',{staticClass:\"h2 text-white d-inline-block mb-0\"},[_vm._v(_vm._s(_vm.$route.name))]),_c('nav',{staticClass:\"d-none d-md-inline-block ml-md-4\",attrs:{\"aria-label\":\"breadcrumb\"}},[_c('route-bread-crumb')],1)]),_c('div',{staticClass:\"col-lg-6 mt-3 mt-lg-0 text-lg-right\"},[_c('a',{staticClass:\"fullcalendar-btn-prev btn btn-sm btn-default\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.prev.apply(null, arguments)}}},[_c('i',{staticClass:\"fas fa-angle-left\"})]),_c('a',{staticClass:\"fullcalendar-btn-next btn btn-sm btn-default\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.next.apply(null, arguments)}}},[_c('i',{staticClass:\"fas fa-angle-right\"})]),_c('base-button',{staticClass:\"btn btn-sm btn-default\",on:{\"click\":function($event){return _vm.changeView('dayGridMonth')}}},[_vm._v(\" Month \")]),_c('base-button',{staticClass:\"btn btn-sm btn-default\",on:{\"click\":function($event){return _vm.changeView('dayGridWeek')}}},[_vm._v(\" Week \")]),_c('base-button',{staticClass:\"btn btn-sm btn-default\",on:{\"click\":function($event){return _vm.changeView('timeGridDay')}}},[_vm._v(\" Day \")])],1)])]),_vm._m(0),_c('modal',{attrs:{\"show\":_vm.showAddModal,\"modal-classes\":\"modal-secondary\"},on:{\"update:show\":function($event){_vm.showAddModal=$event}},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('button',{staticClass:\"btn btn-primary new-event--add\",attrs:{\"type\":\"submit\"},on:{\"click\":_vm.saveEvent}},[_vm._v(\" Add event \")]),_c('button',{staticClass:\"btn btn-link ml-auto\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.showAddModal = false}}},[_vm._v(\" Close \")])]},proxy:true}])},[_c('form',{staticClass:\"new-event--form\",on:{\"submit\":function($event){$event.preventDefault();return _vm.saveEvent.apply(null, arguments)}}},[_c('base-input',{attrs:{\"name\":\"title\",\"label\":\"Event title\",\"placeholder\":\"Event Title\",\"input-classes\":\"form-control-alternative new-event--title\"},model:{value:(_vm.model.title),callback:function ($$v) {_vm.$set(_vm.model, \"title\", $$v)},expression:\"model.title\"}}),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"form-control-label d-block mb-3\"},[_vm._v(\"Status color\")]),_c('div',{staticClass:\"btn-group btn-group-toggle btn-group-colors event-tag\"},_vm._l((_vm.eventColors),function(color){return _c('label',{key:color,staticClass:\"btn\",class:[color, { 'active focused': _vm.model.className === color }]},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.model.className),expression:\"model.className\"}],attrs:{\"type\":\"radio\",\"name\":\"event-tag\",\"autocomplete\":\"off\"},domProps:{\"value\":color,\"checked\":_vm._q(_vm.model.className,color)},on:{\"change\":function($event){return _vm.$set(_vm.model, \"className\", color)}}})])}),0)]),_c('input',{staticClass:\"new-event--start\",attrs:{\"type\":\"hidden\"}}),_c('input',{staticClass:\"new-event--end\",attrs:{\"type\":\"hidden\"}})],1)]),_c('modal',{attrs:{\"show\":_vm.showEditModal,\"modal-classes\":\"modal-secondary\"},on:{\"update:show\":function($event){_vm.showEditModal=$event}},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('base-button',{staticClass:\"new-event--add\",attrs:{\"native-type\":\"submit\",\"type\":\"primary\"},on:{\"click\":_vm.editEvent}},[_vm._v(\"Update\")]),_c('base-button',{attrs:{\"type\":\"danger\"},on:{\"click\":_vm.deleteEvent}},[_vm._v(\"Delete\")]),_c('base-button',{staticClass:\"ml-auto\",attrs:{\"type\":\"link\"},on:{\"click\":function($event){_vm.showAddModal = false}}},[_vm._v(\"Close\")])]},proxy:true}])},[_c('form',{staticClass:\"edit-event--form\",on:{\"submit\":function($event){$event.preventDefault();return _vm.editEvent.apply(null, arguments)}}},[_c('base-input',{attrs:{\"name\":\"title2\",\"label\":\"Event title\",\"placeholder\":\"Event Title\",\"input-classes\":\"form-control-alternative new-event--title\"},model:{value:(_vm.model.title),callback:function ($$v) {_vm.$set(_vm.model, \"title\", $$v)},expression:\"model.title\"}}),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"form-control-label d-block mb-3\"},[_vm._v(\"Status color\")]),_c('div',{staticClass:\"btn-group btn-group-toggle btn-group-colors event-tag\"},_vm._l((_vm.eventColors),function(color){return _c('label',{key:color,staticClass:\"btn\",class:[color, { 'active focused': _vm.model.className === color }]},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.model.className),expression:\"model.className\"}],attrs:{\"type\":\"radio\",\"name\":\"event-tag\",\"autocomplete\":\"off\"},domProps:{\"value\":color,\"checked\":_vm._q(_vm.model.className,color)},on:{\"change\":function($event){return _vm.$set(_vm.model, \"className\", color)}}})])}),0)]),_c('base-input',{attrs:{\"name\":\"textarea\",\"label\":\"Description\"}},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.model.description),expression:\"model.description\"}],staticClass:\"form-control form-control-alternative edit-event--description textarea-autosize\",attrs:{\"placeholder\":\"Event Desctiption\"},domProps:{\"value\":(_vm.model.description)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.model, \"description\", $event.target.value)}}}),_c('i',{staticClass:\"form-group--bar\"})]),_c('input',{staticClass:\"new-event--start\",attrs:{\"type\":\"hidden\"}}),_c('input',{staticClass:\"new-event--end\",attrs:{\"type\":\"hidden\"}})],1)])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container-fluid mt--6\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"card card-calendar\"},[_c('div',{staticClass:\"card-header\"},[_c('h5',{staticClass:\"h3 mb-0\"},[_vm._v(\"Calendar\")])]),_c('div',{staticClass:\"card-body p-0 card-calendar-body\"},[_c('div',{attrs:{\"id\":\"fullCalendar\"}})])])])])])}]\n\nexport { render, staticRenderFns }","/*!\nFullCalendar v5.9.0\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport { config, elementClosest, Emitter, applyStyle, whenTransitionDone, removeElement, ScrollController, ElementScrollController, computeInnerRect, WindowScrollController, getElRoot, preventSelection, preventContextMenu, allowSelection, allowContextMenu, ElementDragging, computeRect, getClippingParents, pointInsideRect, isDateSpansEqual, constrainPoint, intersectRects, getRectCenter, diffPoints, mapHash, rangeContainsRange, interactionSettingsToStore, Interaction, isDateSelectionValid, enableCursor, disableCursor, triggerDateSelect, compareNumbers, getElSeg, getRelevantEvents, EventApi, createEmptyEventStore, applyMutationToEventStore, isInteractionValid, buildEventApis, interactionSettingsStore, startOfDay, diffDates, createDuration, getEventTargetViaRoot, identity, eventTupleToStore, parseDragMeta, elementMatches, refineEventDef, parseEventDef, getDefaultEventEnd, createEventInstance, BASE_OPTION_DEFAULTS, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign } from 'tslib';\n\nconfig.touchMouseIgnoreWait = 500;\nvar ignoreMouseDepth = 0;\nvar listenerCnt = 0;\nvar isWindowTouchMoveCancelled = false;\n/*\nUses a \"pointer\" abstraction, which monitors UI events for both mouse and touch.\nTracks when the pointer \"drags\" on a certain element, meaning down+move+up.\n\nAlso, tracks if there was touch-scrolling.\nAlso, can prevent touch-scrolling from happening.\nAlso, can fire pointermove events when scrolling happens underneath, even when no real pointer movement.\n\nemits:\n- pointerdown\n- pointermove\n- pointerup\n*/\nvar PointerDragging = /** @class */ (function () {\n    function PointerDragging(containerEl) {\n        var _this = this;\n        this.subjectEl = null;\n        // options that can be directly assigned by caller\n        this.selector = ''; // will cause subjectEl in all emitted events to be this element\n        this.handleSelector = '';\n        this.shouldIgnoreMove = false;\n        this.shouldWatchScroll = true; // for simulating pointermove on scroll\n        // internal states\n        this.isDragging = false;\n        this.isTouchDragging = false;\n        this.wasTouchScroll = false;\n        // Mouse\n        // ----------------------------------------------------------------------------------------------------\n        this.handleMouseDown = function (ev) {\n            if (!_this.shouldIgnoreMouse() &&\n                isPrimaryMouseButton(ev) &&\n                _this.tryStart(ev)) {\n                var pev = _this.createEventFromMouse(ev, true);\n                _this.emitter.trigger('pointerdown', pev);\n                _this.initScrollWatch(pev);\n                if (!_this.shouldIgnoreMove) {\n                    document.addEventListener('mousemove', _this.handleMouseMove);\n                }\n                document.addEventListener('mouseup', _this.handleMouseUp);\n            }\n        };\n        this.handleMouseMove = function (ev) {\n            var pev = _this.createEventFromMouse(ev);\n            _this.recordCoords(pev);\n            _this.emitter.trigger('pointermove', pev);\n        };\n        this.handleMouseUp = function (ev) {\n            document.removeEventListener('mousemove', _this.handleMouseMove);\n            document.removeEventListener('mouseup', _this.handleMouseUp);\n            _this.emitter.trigger('pointerup', _this.createEventFromMouse(ev));\n            _this.cleanup(); // call last so that pointerup has access to props\n        };\n        // Touch\n        // ----------------------------------------------------------------------------------------------------\n        this.handleTouchStart = function (ev) {\n            if (_this.tryStart(ev)) {\n                _this.isTouchDragging = true;\n                var pev = _this.createEventFromTouch(ev, true);\n                _this.emitter.trigger('pointerdown', pev);\n                _this.initScrollWatch(pev);\n                // unlike mouse, need to attach to target, not document\n                // https://stackoverflow.com/a/45760014\n                var targetEl = ev.target;\n                if (!_this.shouldIgnoreMove) {\n                    targetEl.addEventListener('touchmove', _this.handleTouchMove);\n                }\n                targetEl.addEventListener('touchend', _this.handleTouchEnd);\n                targetEl.addEventListener('touchcancel', _this.handleTouchEnd); // treat it as a touch end\n                // attach a handler to get called when ANY scroll action happens on the page.\n                // this was impossible to do with normal on/off because 'scroll' doesn't bubble.\n                // http://stackoverflow.com/a/32954565/96342\n                window.addEventListener('scroll', _this.handleTouchScroll, true);\n            }\n        };\n        this.handleTouchMove = function (ev) {\n            var pev = _this.createEventFromTouch(ev);\n            _this.recordCoords(pev);\n            _this.emitter.trigger('pointermove', pev);\n        };\n        this.handleTouchEnd = function (ev) {\n            if (_this.isDragging) { // done to guard against touchend followed by touchcancel\n                var targetEl = ev.target;\n                targetEl.removeEventListener('touchmove', _this.handleTouchMove);\n                targetEl.removeEventListener('touchend', _this.handleTouchEnd);\n                targetEl.removeEventListener('touchcancel', _this.handleTouchEnd);\n                window.removeEventListener('scroll', _this.handleTouchScroll, true); // useCaptured=true\n                _this.emitter.trigger('pointerup', _this.createEventFromTouch(ev));\n                _this.cleanup(); // call last so that pointerup has access to props\n                _this.isTouchDragging = false;\n                startIgnoringMouse();\n            }\n        };\n        this.handleTouchScroll = function () {\n            _this.wasTouchScroll = true;\n        };\n        this.handleScroll = function (ev) {\n            if (!_this.shouldIgnoreMove) {\n                var pageX = (window.pageXOffset - _this.prevScrollX) + _this.prevPageX;\n                var pageY = (window.pageYOffset - _this.prevScrollY) + _this.prevPageY;\n                _this.emitter.trigger('pointermove', {\n                    origEvent: ev,\n                    isTouch: _this.isTouchDragging,\n                    subjectEl: _this.subjectEl,\n                    pageX: pageX,\n                    pageY: pageY,\n                    deltaX: pageX - _this.origPageX,\n                    deltaY: pageY - _this.origPageY,\n                });\n            }\n        };\n        this.containerEl = containerEl;\n        this.emitter = new Emitter();\n        containerEl.addEventListener('mousedown', this.handleMouseDown);\n        containerEl.addEventListener('touchstart', this.handleTouchStart, { passive: true });\n        listenerCreated();\n    }\n    PointerDragging.prototype.destroy = function () {\n        this.containerEl.removeEventListener('mousedown', this.handleMouseDown);\n        this.containerEl.removeEventListener('touchstart', this.handleTouchStart, { passive: true });\n        listenerDestroyed();\n    };\n    PointerDragging.prototype.tryStart = function (ev) {\n        var subjectEl = this.querySubjectEl(ev);\n        var downEl = ev.target;\n        if (subjectEl &&\n            (!this.handleSelector || elementClosest(downEl, this.handleSelector))) {\n            this.subjectEl = subjectEl;\n            this.isDragging = true; // do this first so cancelTouchScroll will work\n            this.wasTouchScroll = false;\n            return true;\n        }\n        return false;\n    };\n    PointerDragging.prototype.cleanup = function () {\n        isWindowTouchMoveCancelled = false;\n        this.isDragging = false;\n        this.subjectEl = null;\n        // keep wasTouchScroll around for later access\n        this.destroyScrollWatch();\n    };\n    PointerDragging.prototype.querySubjectEl = function (ev) {\n        if (this.selector) {\n            return elementClosest(ev.target, this.selector);\n        }\n        return this.containerEl;\n    };\n    PointerDragging.prototype.shouldIgnoreMouse = function () {\n        return ignoreMouseDepth || this.isTouchDragging;\n    };\n    // can be called by user of this class, to cancel touch-based scrolling for the current drag\n    PointerDragging.prototype.cancelTouchScroll = function () {\n        if (this.isDragging) {\n            isWindowTouchMoveCancelled = true;\n        }\n    };\n    // Scrolling that simulates pointermoves\n    // ----------------------------------------------------------------------------------------------------\n    PointerDragging.prototype.initScrollWatch = function (ev) {\n        if (this.shouldWatchScroll) {\n            this.recordCoords(ev);\n            window.addEventListener('scroll', this.handleScroll, true); // useCapture=true\n        }\n    };\n    PointerDragging.prototype.recordCoords = function (ev) {\n        if (this.shouldWatchScroll) {\n            this.prevPageX = ev.pageX;\n            this.prevPageY = ev.pageY;\n            this.prevScrollX = window.pageXOffset;\n            this.prevScrollY = window.pageYOffset;\n        }\n    };\n    PointerDragging.prototype.destroyScrollWatch = function () {\n        if (this.shouldWatchScroll) {\n            window.removeEventListener('scroll', this.handleScroll, true); // useCaptured=true\n        }\n    };\n    // Event Normalization\n    // ----------------------------------------------------------------------------------------------------\n    PointerDragging.prototype.createEventFromMouse = function (ev, isFirst) {\n        var deltaX = 0;\n        var deltaY = 0;\n        // TODO: repeat code\n        if (isFirst) {\n            this.origPageX = ev.pageX;\n            this.origPageY = ev.pageY;\n        }\n        else {\n            deltaX = ev.pageX - this.origPageX;\n            deltaY = ev.pageY - this.origPageY;\n        }\n        return {\n            origEvent: ev,\n            isTouch: false,\n            subjectEl: this.subjectEl,\n            pageX: ev.pageX,\n            pageY: ev.pageY,\n            deltaX: deltaX,\n            deltaY: deltaY,\n        };\n    };\n    PointerDragging.prototype.createEventFromTouch = function (ev, isFirst) {\n        var touches = ev.touches;\n        var pageX;\n        var pageY;\n        var deltaX = 0;\n        var deltaY = 0;\n        // if touch coords available, prefer,\n        // because FF would give bad ev.pageX ev.pageY\n        if (touches && touches.length) {\n            pageX = touches[0].pageX;\n            pageY = touches[0].pageY;\n        }\n        else {\n            pageX = ev.pageX;\n            pageY = ev.pageY;\n        }\n        // TODO: repeat code\n        if (isFirst) {\n            this.origPageX = pageX;\n            this.origPageY = pageY;\n        }\n        else {\n            deltaX = pageX - this.origPageX;\n            deltaY = pageY - this.origPageY;\n        }\n        return {\n            origEvent: ev,\n            isTouch: true,\n            subjectEl: this.subjectEl,\n            pageX: pageX,\n            pageY: pageY,\n            deltaX: deltaX,\n            deltaY: deltaY,\n        };\n    };\n    return PointerDragging;\n}());\n// Returns a boolean whether this was a left mouse click and no ctrl key (which means right click on Mac)\nfunction isPrimaryMouseButton(ev) {\n    return ev.button === 0 && !ev.ctrlKey;\n}\n// Ignoring fake mouse events generated by touch\n// ----------------------------------------------------------------------------------------------------\nfunction startIgnoringMouse() {\n    ignoreMouseDepth += 1;\n    setTimeout(function () {\n        ignoreMouseDepth -= 1;\n    }, config.touchMouseIgnoreWait);\n}\n// We want to attach touchmove as early as possible for Safari\n// ----------------------------------------------------------------------------------------------------\nfunction listenerCreated() {\n    listenerCnt += 1;\n    if (listenerCnt === 1) {\n        window.addEventListener('touchmove', onWindowTouchMove, { passive: false });\n    }\n}\nfunction listenerDestroyed() {\n    listenerCnt -= 1;\n    if (!listenerCnt) {\n        window.removeEventListener('touchmove', onWindowTouchMove, { passive: false });\n    }\n}\nfunction onWindowTouchMove(ev) {\n    if (isWindowTouchMoveCancelled) {\n        ev.preventDefault();\n    }\n}\n\n/*\nAn effect in which an element follows the movement of a pointer across the screen.\nThe moving element is a clone of some other element.\nMust call start + handleMove + stop.\n*/\nvar ElementMirror = /** @class */ (function () {\n    function ElementMirror() {\n        this.isVisible = false; // must be explicitly enabled\n        this.sourceEl = null;\n        this.mirrorEl = null;\n        this.sourceElRect = null; // screen coords relative to viewport\n        // options that can be set directly by caller\n        this.parentNode = document.body; // HIGHLY SUGGESTED to set this to sidestep ShadowDOM issues\n        this.zIndex = 9999;\n        this.revertDuration = 0;\n    }\n    ElementMirror.prototype.start = function (sourceEl, pageX, pageY) {\n        this.sourceEl = sourceEl;\n        this.sourceElRect = this.sourceEl.getBoundingClientRect();\n        this.origScreenX = pageX - window.pageXOffset;\n        this.origScreenY = pageY - window.pageYOffset;\n        this.deltaX = 0;\n        this.deltaY = 0;\n        this.updateElPosition();\n    };\n    ElementMirror.prototype.handleMove = function (pageX, pageY) {\n        this.deltaX = (pageX - window.pageXOffset) - this.origScreenX;\n        this.deltaY = (pageY - window.pageYOffset) - this.origScreenY;\n        this.updateElPosition();\n    };\n    // can be called before start\n    ElementMirror.prototype.setIsVisible = function (bool) {\n        if (bool) {\n            if (!this.isVisible) {\n                if (this.mirrorEl) {\n                    this.mirrorEl.style.display = '';\n                }\n                this.isVisible = bool; // needs to happen before updateElPosition\n                this.updateElPosition(); // because was not updating the position while invisible\n            }\n        }\n        else if (this.isVisible) {\n            if (this.mirrorEl) {\n                this.mirrorEl.style.display = 'none';\n            }\n            this.isVisible = bool;\n        }\n    };\n    // always async\n    ElementMirror.prototype.stop = function (needsRevertAnimation, callback) {\n        var _this = this;\n        var done = function () {\n            _this.cleanup();\n            callback();\n        };\n        if (needsRevertAnimation &&\n            this.mirrorEl &&\n            this.isVisible &&\n            this.revertDuration && // if 0, transition won't work\n            (this.deltaX || this.deltaY) // if same coords, transition won't work\n        ) {\n            this.doRevertAnimation(done, this.revertDuration);\n        }\n        else {\n            setTimeout(done, 0);\n        }\n    };\n    ElementMirror.prototype.doRevertAnimation = function (callback, revertDuration) {\n        var mirrorEl = this.mirrorEl;\n        var finalSourceElRect = this.sourceEl.getBoundingClientRect(); // because autoscrolling might have happened\n        mirrorEl.style.transition =\n            'top ' + revertDuration + 'ms,' +\n                'left ' + revertDuration + 'ms';\n        applyStyle(mirrorEl, {\n            left: finalSourceElRect.left,\n            top: finalSourceElRect.top,\n        });\n        whenTransitionDone(mirrorEl, function () {\n            mirrorEl.style.transition = '';\n            callback();\n        });\n    };\n    ElementMirror.prototype.cleanup = function () {\n        if (this.mirrorEl) {\n            removeElement(this.mirrorEl);\n            this.mirrorEl = null;\n        }\n        this.sourceEl = null;\n    };\n    ElementMirror.prototype.updateElPosition = function () {\n        if (this.sourceEl && this.isVisible) {\n            applyStyle(this.getMirrorEl(), {\n                left: this.sourceElRect.left + this.deltaX,\n                top: this.sourceElRect.top + this.deltaY,\n            });\n        }\n    };\n    ElementMirror.prototype.getMirrorEl = function () {\n        var sourceElRect = this.sourceElRect;\n        var mirrorEl = this.mirrorEl;\n        if (!mirrorEl) {\n            mirrorEl = this.mirrorEl = this.sourceEl.cloneNode(true); // cloneChildren=true\n            // we don't want long taps or any mouse interaction causing selection/menus.\n            // would use preventSelection(), but that prevents selectstart, causing problems.\n            mirrorEl.classList.add('fc-unselectable');\n            mirrorEl.classList.add('fc-event-dragging');\n            applyStyle(mirrorEl, {\n                position: 'fixed',\n                zIndex: this.zIndex,\n                visibility: '',\n                boxSizing: 'border-box',\n                width: sourceElRect.right - sourceElRect.left,\n                height: sourceElRect.bottom - sourceElRect.top,\n                right: 'auto',\n                bottom: 'auto',\n                margin: 0,\n            });\n            this.parentNode.appendChild(mirrorEl);\n        }\n        return mirrorEl;\n    };\n    return ElementMirror;\n}());\n\n/*\nIs a cache for a given element's scroll information (all the info that ScrollController stores)\nin addition the \"client rectangle\" of the element.. the area within the scrollbars.\n\nThe cache can be in one of two modes:\n- doesListening:false - ignores when the container is scrolled by someone else\n- doesListening:true - watch for scrolling and update the cache\n*/\nvar ScrollGeomCache = /** @class */ (function (_super) {\n    __extends(ScrollGeomCache, _super);\n    function ScrollGeomCache(scrollController, doesListening) {\n        var _this = _super.call(this) || this;\n        _this.handleScroll = function () {\n            _this.scrollTop = _this.scrollController.getScrollTop();\n            _this.scrollLeft = _this.scrollController.getScrollLeft();\n            _this.handleScrollChange();\n        };\n        _this.scrollController = scrollController;\n        _this.doesListening = doesListening;\n        _this.scrollTop = _this.origScrollTop = scrollController.getScrollTop();\n        _this.scrollLeft = _this.origScrollLeft = scrollController.getScrollLeft();\n        _this.scrollWidth = scrollController.getScrollWidth();\n        _this.scrollHeight = scrollController.getScrollHeight();\n        _this.clientWidth = scrollController.getClientWidth();\n        _this.clientHeight = scrollController.getClientHeight();\n        _this.clientRect = _this.computeClientRect(); // do last in case it needs cached values\n        if (_this.doesListening) {\n            _this.getEventTarget().addEventListener('scroll', _this.handleScroll);\n        }\n        return _this;\n    }\n    ScrollGeomCache.prototype.destroy = function () {\n        if (this.doesListening) {\n            this.getEventTarget().removeEventListener('scroll', this.handleScroll);\n        }\n    };\n    ScrollGeomCache.prototype.getScrollTop = function () {\n        return this.scrollTop;\n    };\n    ScrollGeomCache.prototype.getScrollLeft = function () {\n        return this.scrollLeft;\n    };\n    ScrollGeomCache.prototype.setScrollTop = function (top) {\n        this.scrollController.setScrollTop(top);\n        if (!this.doesListening) {\n            // we are not relying on the element to normalize out-of-bounds scroll values\n            // so we need to sanitize ourselves\n            this.scrollTop = Math.max(Math.min(top, this.getMaxScrollTop()), 0);\n            this.handleScrollChange();\n        }\n    };\n    ScrollGeomCache.prototype.setScrollLeft = function (top) {\n        this.scrollController.setScrollLeft(top);\n        if (!this.doesListening) {\n            // we are not relying on the element to normalize out-of-bounds scroll values\n            // so we need to sanitize ourselves\n            this.scrollLeft = Math.max(Math.min(top, this.getMaxScrollLeft()), 0);\n            this.handleScrollChange();\n        }\n    };\n    ScrollGeomCache.prototype.getClientWidth = function () {\n        return this.clientWidth;\n    };\n    ScrollGeomCache.prototype.getClientHeight = function () {\n        return this.clientHeight;\n    };\n    ScrollGeomCache.prototype.getScrollWidth = function () {\n        return this.scrollWidth;\n    };\n    ScrollGeomCache.prototype.getScrollHeight = function () {\n        return this.scrollHeight;\n    };\n    ScrollGeomCache.prototype.handleScrollChange = function () {\n    };\n    return ScrollGeomCache;\n}(ScrollController));\n\nvar ElementScrollGeomCache = /** @class */ (function (_super) {\n    __extends(ElementScrollGeomCache, _super);\n    function ElementScrollGeomCache(el, doesListening) {\n        return _super.call(this, new ElementScrollController(el), doesListening) || this;\n    }\n    ElementScrollGeomCache.prototype.getEventTarget = function () {\n        return this.scrollController.el;\n    };\n    ElementScrollGeomCache.prototype.computeClientRect = function () {\n        return computeInnerRect(this.scrollController.el);\n    };\n    return ElementScrollGeomCache;\n}(ScrollGeomCache));\n\nvar WindowScrollGeomCache = /** @class */ (function (_super) {\n    __extends(WindowScrollGeomCache, _super);\n    function WindowScrollGeomCache(doesListening) {\n        return _super.call(this, new WindowScrollController(), doesListening) || this;\n    }\n    WindowScrollGeomCache.prototype.getEventTarget = function () {\n        return window;\n    };\n    WindowScrollGeomCache.prototype.computeClientRect = function () {\n        return {\n            left: this.scrollLeft,\n            right: this.scrollLeft + this.clientWidth,\n            top: this.scrollTop,\n            bottom: this.scrollTop + this.clientHeight,\n        };\n    };\n    // the window is the only scroll object that changes it's rectangle relative\n    // to the document's topleft as it scrolls\n    WindowScrollGeomCache.prototype.handleScrollChange = function () {\n        this.clientRect = this.computeClientRect();\n    };\n    return WindowScrollGeomCache;\n}(ScrollGeomCache));\n\n// If available we are using native \"performance\" API instead of \"Date\"\n// Read more about it on MDN:\n// https://developer.mozilla.org/en-US/docs/Web/API/Performance\nvar getTime = typeof performance === 'function' ? performance.now : Date.now;\n/*\nFor a pointer interaction, automatically scrolls certain scroll containers when the pointer\napproaches the edge.\n\nThe caller must call start + handleMove + stop.\n*/\nvar AutoScroller = /** @class */ (function () {\n    function AutoScroller() {\n        var _this = this;\n        // options that can be set by caller\n        this.isEnabled = true;\n        this.scrollQuery = [window, '.fc-scroller'];\n        this.edgeThreshold = 50; // pixels\n        this.maxVelocity = 300; // pixels per second\n        // internal state\n        this.pointerScreenX = null;\n        this.pointerScreenY = null;\n        this.isAnimating = false;\n        this.scrollCaches = null;\n        // protect against the initial pointerdown being too close to an edge and starting the scroll\n        this.everMovedUp = false;\n        this.everMovedDown = false;\n        this.everMovedLeft = false;\n        this.everMovedRight = false;\n        this.animate = function () {\n            if (_this.isAnimating) { // wasn't cancelled between animation calls\n                var edge = _this.computeBestEdge(_this.pointerScreenX + window.pageXOffset, _this.pointerScreenY + window.pageYOffset);\n                if (edge) {\n                    var now = getTime();\n                    _this.handleSide(edge, (now - _this.msSinceRequest) / 1000);\n                    _this.requestAnimation(now);\n                }\n                else {\n                    _this.isAnimating = false; // will stop animation\n                }\n            }\n        };\n    }\n    AutoScroller.prototype.start = function (pageX, pageY, scrollStartEl) {\n        if (this.isEnabled) {\n            this.scrollCaches = this.buildCaches(scrollStartEl);\n            this.pointerScreenX = null;\n            this.pointerScreenY = null;\n            this.everMovedUp = false;\n            this.everMovedDown = false;\n            this.everMovedLeft = false;\n            this.everMovedRight = false;\n            this.handleMove(pageX, pageY);\n        }\n    };\n    AutoScroller.prototype.handleMove = function (pageX, pageY) {\n        if (this.isEnabled) {\n            var pointerScreenX = pageX - window.pageXOffset;\n            var pointerScreenY = pageY - window.pageYOffset;\n            var yDelta = this.pointerScreenY === null ? 0 : pointerScreenY - this.pointerScreenY;\n            var xDelta = this.pointerScreenX === null ? 0 : pointerScreenX - this.pointerScreenX;\n            if (yDelta < 0) {\n                this.everMovedUp = true;\n            }\n            else if (yDelta > 0) {\n                this.everMovedDown = true;\n            }\n            if (xDelta < 0) {\n                this.everMovedLeft = true;\n            }\n            else if (xDelta > 0) {\n                this.everMovedRight = true;\n            }\n            this.pointerScreenX = pointerScreenX;\n            this.pointerScreenY = pointerScreenY;\n            if (!this.isAnimating) {\n                this.isAnimating = true;\n                this.requestAnimation(getTime());\n            }\n        }\n    };\n    AutoScroller.prototype.stop = function () {\n        if (this.isEnabled) {\n            this.isAnimating = false; // will stop animation\n            for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n                var scrollCache = _a[_i];\n                scrollCache.destroy();\n            }\n            this.scrollCaches = null;\n        }\n    };\n    AutoScroller.prototype.requestAnimation = function (now) {\n        this.msSinceRequest = now;\n        requestAnimationFrame(this.animate);\n    };\n    AutoScroller.prototype.handleSide = function (edge, seconds) {\n        var scrollCache = edge.scrollCache;\n        var edgeThreshold = this.edgeThreshold;\n        var invDistance = edgeThreshold - edge.distance;\n        var velocity = // the closer to the edge, the faster we scroll\n         ((invDistance * invDistance) / (edgeThreshold * edgeThreshold)) * // quadratic\n            this.maxVelocity * seconds;\n        var sign = 1;\n        switch (edge.name) {\n            case 'left':\n                sign = -1;\n            // falls through\n            case 'right':\n                scrollCache.setScrollLeft(scrollCache.getScrollLeft() + velocity * sign);\n                break;\n            case 'top':\n                sign = -1;\n            // falls through\n            case 'bottom':\n                scrollCache.setScrollTop(scrollCache.getScrollTop() + velocity * sign);\n                break;\n        }\n    };\n    // left/top are relative to document topleft\n    AutoScroller.prototype.computeBestEdge = function (left, top) {\n        var edgeThreshold = this.edgeThreshold;\n        var bestSide = null;\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            var rect = scrollCache.clientRect;\n            var leftDist = left - rect.left;\n            var rightDist = rect.right - left;\n            var topDist = top - rect.top;\n            var bottomDist = rect.bottom - top;\n            // completely within the rect?\n            if (leftDist >= 0 && rightDist >= 0 && topDist >= 0 && bottomDist >= 0) {\n                if (topDist <= edgeThreshold && this.everMovedUp && scrollCache.canScrollUp() &&\n                    (!bestSide || bestSide.distance > topDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'top', distance: topDist };\n                }\n                if (bottomDist <= edgeThreshold && this.everMovedDown && scrollCache.canScrollDown() &&\n                    (!bestSide || bestSide.distance > bottomDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'bottom', distance: bottomDist };\n                }\n                if (leftDist <= edgeThreshold && this.everMovedLeft && scrollCache.canScrollLeft() &&\n                    (!bestSide || bestSide.distance > leftDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'left', distance: leftDist };\n                }\n                if (rightDist <= edgeThreshold && this.everMovedRight && scrollCache.canScrollRight() &&\n                    (!bestSide || bestSide.distance > rightDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'right', distance: rightDist };\n                }\n            }\n        }\n        return bestSide;\n    };\n    AutoScroller.prototype.buildCaches = function (scrollStartEl) {\n        return this.queryScrollEls(scrollStartEl).map(function (el) {\n            if (el === window) {\n                return new WindowScrollGeomCache(false); // false = don't listen to user-generated scrolls\n            }\n            return new ElementScrollGeomCache(el, false); // false = don't listen to user-generated scrolls\n        });\n    };\n    AutoScroller.prototype.queryScrollEls = function (scrollStartEl) {\n        var els = [];\n        for (var _i = 0, _a = this.scrollQuery; _i < _a.length; _i++) {\n            var query = _a[_i];\n            if (typeof query === 'object') {\n                els.push(query);\n            }\n            else {\n                els.push.apply(els, Array.prototype.slice.call(getElRoot(scrollStartEl).querySelectorAll(query)));\n            }\n        }\n        return els;\n    };\n    return AutoScroller;\n}());\n\n/*\nMonitors dragging on an element. Has a number of high-level features:\n- minimum distance required before dragging\n- minimum wait time (\"delay\") before dragging\n- a mirror element that follows the pointer\n*/\nvar FeaturefulElementDragging = /** @class */ (function (_super) {\n    __extends(FeaturefulElementDragging, _super);\n    function FeaturefulElementDragging(containerEl, selector) {\n        var _this = _super.call(this, containerEl) || this;\n        _this.containerEl = containerEl;\n        // options that can be directly set by caller\n        // the caller can also set the PointerDragging's options as well\n        _this.delay = null;\n        _this.minDistance = 0;\n        _this.touchScrollAllowed = true; // prevents drag from starting and blocks scrolling during drag\n        _this.mirrorNeedsRevert = false;\n        _this.isInteracting = false; // is the user validly moving the pointer? lasts until pointerup\n        _this.isDragging = false; // is it INTENTFULLY dragging? lasts until after revert animation\n        _this.isDelayEnded = false;\n        _this.isDistanceSurpassed = false;\n        _this.delayTimeoutId = null;\n        _this.onPointerDown = function (ev) {\n            if (!_this.isDragging) { // so new drag doesn't happen while revert animation is going\n                _this.isInteracting = true;\n                _this.isDelayEnded = false;\n                _this.isDistanceSurpassed = false;\n                preventSelection(document.body);\n                preventContextMenu(document.body);\n                // prevent links from being visited if there's an eventual drag.\n                // also prevents selection in older browsers (maybe?).\n                // not necessary for touch, besides, browser would complain about passiveness.\n                if (!ev.isTouch) {\n                    ev.origEvent.preventDefault();\n                }\n                _this.emitter.trigger('pointerdown', ev);\n                if (_this.isInteracting && // not destroyed via pointerdown handler\n                    !_this.pointer.shouldIgnoreMove) {\n                    // actions related to initiating dragstart+dragmove+dragend...\n                    _this.mirror.setIsVisible(false); // reset. caller must set-visible\n                    _this.mirror.start(ev.subjectEl, ev.pageX, ev.pageY); // must happen on first pointer down\n                    _this.startDelay(ev);\n                    if (!_this.minDistance) {\n                        _this.handleDistanceSurpassed(ev);\n                    }\n                }\n            }\n        };\n        _this.onPointerMove = function (ev) {\n            if (_this.isInteracting) {\n                _this.emitter.trigger('pointermove', ev);\n                if (!_this.isDistanceSurpassed) {\n                    var minDistance = _this.minDistance;\n                    var distanceSq = void 0; // current distance from the origin, squared\n                    var deltaX = ev.deltaX, deltaY = ev.deltaY;\n                    distanceSq = deltaX * deltaX + deltaY * deltaY;\n                    if (distanceSq >= minDistance * minDistance) { // use pythagorean theorem\n                        _this.handleDistanceSurpassed(ev);\n                    }\n                }\n                if (_this.isDragging) {\n                    // a real pointer move? (not one simulated by scrolling)\n                    if (ev.origEvent.type !== 'scroll') {\n                        _this.mirror.handleMove(ev.pageX, ev.pageY);\n                        _this.autoScroller.handleMove(ev.pageX, ev.pageY);\n                    }\n                    _this.emitter.trigger('dragmove', ev);\n                }\n            }\n        };\n        _this.onPointerUp = function (ev) {\n            if (_this.isInteracting) {\n                _this.isInteracting = false;\n                allowSelection(document.body);\n                allowContextMenu(document.body);\n                _this.emitter.trigger('pointerup', ev); // can potentially set mirrorNeedsRevert\n                if (_this.isDragging) {\n                    _this.autoScroller.stop();\n                    _this.tryStopDrag(ev); // which will stop the mirror\n                }\n                if (_this.delayTimeoutId) {\n                    clearTimeout(_this.delayTimeoutId);\n                    _this.delayTimeoutId = null;\n                }\n            }\n        };\n        var pointer = _this.pointer = new PointerDragging(containerEl);\n        pointer.emitter.on('pointerdown', _this.onPointerDown);\n        pointer.emitter.on('pointermove', _this.onPointerMove);\n        pointer.emitter.on('pointerup', _this.onPointerUp);\n        if (selector) {\n            pointer.selector = selector;\n        }\n        _this.mirror = new ElementMirror();\n        _this.autoScroller = new AutoScroller();\n        return _this;\n    }\n    FeaturefulElementDragging.prototype.destroy = function () {\n        this.pointer.destroy();\n        // HACK: simulate a pointer-up to end the current drag\n        // TODO: fire 'dragend' directly and stop interaction. discourage use of pointerup event (b/c might not fire)\n        this.onPointerUp({});\n    };\n    FeaturefulElementDragging.prototype.startDelay = function (ev) {\n        var _this = this;\n        if (typeof this.delay === 'number') {\n            this.delayTimeoutId = setTimeout(function () {\n                _this.delayTimeoutId = null;\n                _this.handleDelayEnd(ev);\n            }, this.delay); // not assignable to number!\n        }\n        else {\n            this.handleDelayEnd(ev);\n        }\n    };\n    FeaturefulElementDragging.prototype.handleDelayEnd = function (ev) {\n        this.isDelayEnded = true;\n        this.tryStartDrag(ev);\n    };\n    FeaturefulElementDragging.prototype.handleDistanceSurpassed = function (ev) {\n        this.isDistanceSurpassed = true;\n        this.tryStartDrag(ev);\n    };\n    FeaturefulElementDragging.prototype.tryStartDrag = function (ev) {\n        if (this.isDelayEnded && this.isDistanceSurpassed) {\n            if (!this.pointer.wasTouchScroll || this.touchScrollAllowed) {\n                this.isDragging = true;\n                this.mirrorNeedsRevert = false;\n                this.autoScroller.start(ev.pageX, ev.pageY, this.containerEl);\n                this.emitter.trigger('dragstart', ev);\n                if (this.touchScrollAllowed === false) {\n                    this.pointer.cancelTouchScroll();\n                }\n            }\n        }\n    };\n    FeaturefulElementDragging.prototype.tryStopDrag = function (ev) {\n        // .stop() is ALWAYS asynchronous, which we NEED because we want all pointerup events\n        // that come from the document to fire beforehand. much more convenient this way.\n        this.mirror.stop(this.mirrorNeedsRevert, this.stopDrag.bind(this, ev));\n    };\n    FeaturefulElementDragging.prototype.stopDrag = function (ev) {\n        this.isDragging = false;\n        this.emitter.trigger('dragend', ev);\n    };\n    // fill in the implementations...\n    FeaturefulElementDragging.prototype.setIgnoreMove = function (bool) {\n        this.pointer.shouldIgnoreMove = bool;\n    };\n    FeaturefulElementDragging.prototype.setMirrorIsVisible = function (bool) {\n        this.mirror.setIsVisible(bool);\n    };\n    FeaturefulElementDragging.prototype.setMirrorNeedsRevert = function (bool) {\n        this.mirrorNeedsRevert = bool;\n    };\n    FeaturefulElementDragging.prototype.setAutoScrollEnabled = function (bool) {\n        this.autoScroller.isEnabled = bool;\n    };\n    return FeaturefulElementDragging;\n}(ElementDragging));\n\n/*\nWhen this class is instantiated, it records the offset of an element (relative to the document topleft),\nand continues to monitor scrolling, updating the cached coordinates if it needs to.\nDoes not access the DOM after instantiation, so highly performant.\n\nAlso keeps track of all scrolling/overflow:hidden containers that are parents of the given element\nand an determine if a given point is inside the combined clipping rectangle.\n*/\nvar OffsetTracker = /** @class */ (function () {\n    function OffsetTracker(el) {\n        this.origRect = computeRect(el);\n        // will work fine for divs that have overflow:hidden\n        this.scrollCaches = getClippingParents(el).map(function (scrollEl) { return new ElementScrollGeomCache(scrollEl, true); });\n    }\n    OffsetTracker.prototype.destroy = function () {\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            scrollCache.destroy();\n        }\n    };\n    OffsetTracker.prototype.computeLeft = function () {\n        var left = this.origRect.left;\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            left += scrollCache.origScrollLeft - scrollCache.getScrollLeft();\n        }\n        return left;\n    };\n    OffsetTracker.prototype.computeTop = function () {\n        var top = this.origRect.top;\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            top += scrollCache.origScrollTop - scrollCache.getScrollTop();\n        }\n        return top;\n    };\n    OffsetTracker.prototype.isWithinClipping = function (pageX, pageY) {\n        var point = { left: pageX, top: pageY };\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            if (!isIgnoredClipping(scrollCache.getEventTarget()) &&\n                !pointInsideRect(point, scrollCache.clientRect)) {\n                return false;\n            }\n        }\n        return true;\n    };\n    return OffsetTracker;\n}());\n// certain clipping containers should never constrain interactions, like <html> and <body>\n// https://github.com/fullcalendar/fullcalendar/issues/3615\nfunction isIgnoredClipping(node) {\n    var tagName = node.tagName;\n    return tagName === 'HTML' || tagName === 'BODY';\n}\n\n/*\nTracks movement over multiple droppable areas (aka \"hits\")\nthat exist in one or more DateComponents.\nRelies on an existing draggable.\n\nemits:\n- pointerdown\n- dragstart\n- hitchange - fires initially, even if not over a hit\n- pointerup\n- (hitchange - again, to null, if ended over a hit)\n- dragend\n*/\nvar HitDragging = /** @class */ (function () {\n    function HitDragging(dragging, droppableStore) {\n        var _this = this;\n        // options that can be set by caller\n        this.useSubjectCenter = false;\n        this.requireInitial = true; // if doesn't start out on a hit, won't emit any events\n        this.initialHit = null;\n        this.movingHit = null;\n        this.finalHit = null; // won't ever be populated if shouldIgnoreMove\n        this.handlePointerDown = function (ev) {\n            var dragging = _this.dragging;\n            _this.initialHit = null;\n            _this.movingHit = null;\n            _this.finalHit = null;\n            _this.prepareHits();\n            _this.processFirstCoord(ev);\n            if (_this.initialHit || !_this.requireInitial) {\n                dragging.setIgnoreMove(false);\n                // TODO: fire this before computing processFirstCoord, so listeners can cancel. this gets fired by almost every handler :(\n                _this.emitter.trigger('pointerdown', ev);\n            }\n            else {\n                dragging.setIgnoreMove(true);\n            }\n        };\n        this.handleDragStart = function (ev) {\n            _this.emitter.trigger('dragstart', ev);\n            _this.handleMove(ev, true); // force = fire even if initially null\n        };\n        this.handleDragMove = function (ev) {\n            _this.emitter.trigger('dragmove', ev);\n            _this.handleMove(ev);\n        };\n        this.handlePointerUp = function (ev) {\n            _this.releaseHits();\n            _this.emitter.trigger('pointerup', ev);\n        };\n        this.handleDragEnd = function (ev) {\n            if (_this.movingHit) {\n                _this.emitter.trigger('hitupdate', null, true, ev);\n            }\n            _this.finalHit = _this.movingHit;\n            _this.movingHit = null;\n            _this.emitter.trigger('dragend', ev);\n        };\n        this.droppableStore = droppableStore;\n        dragging.emitter.on('pointerdown', this.handlePointerDown);\n        dragging.emitter.on('dragstart', this.handleDragStart);\n        dragging.emitter.on('dragmove', this.handleDragMove);\n        dragging.emitter.on('pointerup', this.handlePointerUp);\n        dragging.emitter.on('dragend', this.handleDragEnd);\n        this.dragging = dragging;\n        this.emitter = new Emitter();\n    }\n    // sets initialHit\n    // sets coordAdjust\n    HitDragging.prototype.processFirstCoord = function (ev) {\n        var origPoint = { left: ev.pageX, top: ev.pageY };\n        var adjustedPoint = origPoint;\n        var subjectEl = ev.subjectEl;\n        var subjectRect;\n        if (subjectEl instanceof HTMLElement) { // i.e. not a Document/ShadowRoot\n            subjectRect = computeRect(subjectEl);\n            adjustedPoint = constrainPoint(adjustedPoint, subjectRect);\n        }\n        var initialHit = this.initialHit = this.queryHitForOffset(adjustedPoint.left, adjustedPoint.top);\n        if (initialHit) {\n            if (this.useSubjectCenter && subjectRect) {\n                var slicedSubjectRect = intersectRects(subjectRect, initialHit.rect);\n                if (slicedSubjectRect) {\n                    adjustedPoint = getRectCenter(slicedSubjectRect);\n                }\n            }\n            this.coordAdjust = diffPoints(adjustedPoint, origPoint);\n        }\n        else {\n            this.coordAdjust = { left: 0, top: 0 };\n        }\n    };\n    HitDragging.prototype.handleMove = function (ev, forceHandle) {\n        var hit = this.queryHitForOffset(ev.pageX + this.coordAdjust.left, ev.pageY + this.coordAdjust.top);\n        if (forceHandle || !isHitsEqual(this.movingHit, hit)) {\n            this.movingHit = hit;\n            this.emitter.trigger('hitupdate', hit, false, ev);\n        }\n    };\n    HitDragging.prototype.prepareHits = function () {\n        this.offsetTrackers = mapHash(this.droppableStore, function (interactionSettings) {\n            interactionSettings.component.prepareHits();\n            return new OffsetTracker(interactionSettings.el);\n        });\n    };\n    HitDragging.prototype.releaseHits = function () {\n        var offsetTrackers = this.offsetTrackers;\n        for (var id in offsetTrackers) {\n            offsetTrackers[id].destroy();\n        }\n        this.offsetTrackers = {};\n    };\n    HitDragging.prototype.queryHitForOffset = function (offsetLeft, offsetTop) {\n        var _a = this, droppableStore = _a.droppableStore, offsetTrackers = _a.offsetTrackers;\n        var bestHit = null;\n        for (var id in droppableStore) {\n            var component = droppableStore[id].component;\n            var offsetTracker = offsetTrackers[id];\n            if (offsetTracker && // wasn't destroyed mid-drag\n                offsetTracker.isWithinClipping(offsetLeft, offsetTop)) {\n                var originLeft = offsetTracker.computeLeft();\n                var originTop = offsetTracker.computeTop();\n                var positionLeft = offsetLeft - originLeft;\n                var positionTop = offsetTop - originTop;\n                var origRect = offsetTracker.origRect;\n                var width = origRect.right - origRect.left;\n                var height = origRect.bottom - origRect.top;\n                if (\n                // must be within the element's bounds\n                positionLeft >= 0 && positionLeft < width &&\n                    positionTop >= 0 && positionTop < height) {\n                    var hit = component.queryHit(positionLeft, positionTop, width, height);\n                    if (hit && (\n                    // make sure the hit is within activeRange, meaning it's not a dead cell\n                    rangeContainsRange(hit.dateProfile.activeRange, hit.dateSpan.range)) &&\n                        (!bestHit || hit.layer > bestHit.layer)) {\n                        hit.componentId = id;\n                        hit.context = component.context;\n                        // TODO: better way to re-orient rectangle\n                        hit.rect.left += originLeft;\n                        hit.rect.right += originLeft;\n                        hit.rect.top += originTop;\n                        hit.rect.bottom += originTop;\n                        bestHit = hit;\n                    }\n                }\n            }\n        }\n        return bestHit;\n    };\n    return HitDragging;\n}());\nfunction isHitsEqual(hit0, hit1) {\n    if (!hit0 && !hit1) {\n        return true;\n    }\n    if (Boolean(hit0) !== Boolean(hit1)) {\n        return false;\n    }\n    return isDateSpansEqual(hit0.dateSpan, hit1.dateSpan);\n}\n\nfunction buildDatePointApiWithContext(dateSpan, context) {\n    var props = {};\n    for (var _i = 0, _a = context.pluginHooks.datePointTransforms; _i < _a.length; _i++) {\n        var transform = _a[_i];\n        __assign(props, transform(dateSpan, context));\n    }\n    __assign(props, buildDatePointApi(dateSpan, context.dateEnv));\n    return props;\n}\nfunction buildDatePointApi(span, dateEnv) {\n    return {\n        date: dateEnv.toDate(span.range.start),\n        dateStr: dateEnv.formatIso(span.range.start, { omitTime: span.allDay }),\n        allDay: span.allDay,\n    };\n}\n\n/*\nMonitors when the user clicks on a specific date/time of a component.\nA pointerdown+pointerup on the same \"hit\" constitutes a click.\n*/\nvar DateClicking = /** @class */ (function (_super) {\n    __extends(DateClicking, _super);\n    function DateClicking(settings) {\n        var _this = _super.call(this, settings) || this;\n        _this.handlePointerDown = function (pev) {\n            var dragging = _this.dragging;\n            var downEl = pev.origEvent.target;\n            // do this in pointerdown (not dragend) because DOM might be mutated by the time dragend is fired\n            dragging.setIgnoreMove(!_this.component.isValidDateDownEl(downEl));\n        };\n        // won't even fire if moving was ignored\n        _this.handleDragEnd = function (ev) {\n            var component = _this.component;\n            var pointer = _this.dragging.pointer;\n            if (!pointer.wasTouchScroll) {\n                var _a = _this.hitDragging, initialHit = _a.initialHit, finalHit = _a.finalHit;\n                if (initialHit && finalHit && isHitsEqual(initialHit, finalHit)) {\n                    var context = component.context;\n                    var arg = __assign(__assign({}, buildDatePointApiWithContext(initialHit.dateSpan, context)), { dayEl: initialHit.dayEl, jsEvent: ev.origEvent, view: context.viewApi || context.calendarApi.view });\n                    context.emitter.trigger('dateClick', arg);\n                }\n            }\n        };\n        // we DO want to watch pointer moves because otherwise finalHit won't get populated\n        _this.dragging = new FeaturefulElementDragging(settings.el);\n        _this.dragging.autoScroller.isEnabled = false;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragend', _this.handleDragEnd);\n        return _this;\n    }\n    DateClicking.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return DateClicking;\n}(Interaction));\n\n/*\nTracks when the user selects a portion of time of a component,\nconstituted by a drag over date cells, with a possible delay at the beginning of the drag.\n*/\nvar DateSelecting = /** @class */ (function (_super) {\n    __extends(DateSelecting, _super);\n    function DateSelecting(settings) {\n        var _this = _super.call(this, settings) || this;\n        _this.dragSelection = null;\n        _this.handlePointerDown = function (ev) {\n            var _a = _this, component = _a.component, dragging = _a.dragging;\n            var options = component.context.options;\n            var canSelect = options.selectable &&\n                component.isValidDateDownEl(ev.origEvent.target);\n            // don't bother to watch expensive moves if component won't do selection\n            dragging.setIgnoreMove(!canSelect);\n            // if touch, require user to hold down\n            dragging.delay = ev.isTouch ? getComponentTouchDelay$1(component) : null;\n        };\n        _this.handleDragStart = function (ev) {\n            _this.component.context.calendarApi.unselect(ev); // unselect previous selections\n        };\n        _this.handleHitUpdate = function (hit, isFinal) {\n            var context = _this.component.context;\n            var dragSelection = null;\n            var isInvalid = false;\n            if (hit) {\n                var initialHit = _this.hitDragging.initialHit;\n                var disallowed = hit.componentId === initialHit.componentId\n                    && _this.isHitComboAllowed\n                    && !_this.isHitComboAllowed(initialHit, hit);\n                if (!disallowed) {\n                    dragSelection = joinHitsIntoSelection(initialHit, hit, context.pluginHooks.dateSelectionTransformers);\n                }\n                if (!dragSelection || !isDateSelectionValid(dragSelection, hit.dateProfile, context)) {\n                    isInvalid = true;\n                    dragSelection = null;\n                }\n            }\n            if (dragSelection) {\n                context.dispatch({ type: 'SELECT_DATES', selection: dragSelection });\n            }\n            else if (!isFinal) { // only unselect if moved away while dragging\n                context.dispatch({ type: 'UNSELECT_DATES' });\n            }\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                _this.dragSelection = dragSelection; // only clear if moved away from all hits while dragging\n            }\n        };\n        _this.handlePointerUp = function (pev) {\n            if (_this.dragSelection) {\n                // selection is already rendered, so just need to report selection\n                triggerDateSelect(_this.dragSelection, pev, _this.component.context);\n                _this.dragSelection = null;\n            }\n        };\n        var component = settings.component;\n        var options = component.context.options;\n        var dragging = _this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.touchScrollAllowed = false;\n        dragging.minDistance = options.selectMinDistance || 0;\n        dragging.autoScroller.isEnabled = options.dragScroll;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', _this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', _this.handleHitUpdate);\n        hitDragging.emitter.on('pointerup', _this.handlePointerUp);\n        return _this;\n    }\n    DateSelecting.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return DateSelecting;\n}(Interaction));\nfunction getComponentTouchDelay$1(component) {\n    var options = component.context.options;\n    var delay = options.selectLongPressDelay;\n    if (delay == null) {\n        delay = options.longPressDelay;\n    }\n    return delay;\n}\nfunction joinHitsIntoSelection(hit0, hit1, dateSelectionTransformers) {\n    var dateSpan0 = hit0.dateSpan;\n    var dateSpan1 = hit1.dateSpan;\n    var ms = [\n        dateSpan0.range.start,\n        dateSpan0.range.end,\n        dateSpan1.range.start,\n        dateSpan1.range.end,\n    ];\n    ms.sort(compareNumbers);\n    var props = {};\n    for (var _i = 0, dateSelectionTransformers_1 = dateSelectionTransformers; _i < dateSelectionTransformers_1.length; _i++) {\n        var transformer = dateSelectionTransformers_1[_i];\n        var res = transformer(hit0, hit1);\n        if (res === false) {\n            return null;\n        }\n        if (res) {\n            __assign(props, res);\n        }\n    }\n    props.range = { start: ms[0], end: ms[3] };\n    props.allDay = dateSpan0.allDay;\n    return props;\n}\n\nvar EventDragging = /** @class */ (function (_super) {\n    __extends(EventDragging, _super);\n    function EventDragging(settings) {\n        var _this = _super.call(this, settings) || this;\n        // internal state\n        _this.subjectEl = null;\n        _this.subjectSeg = null; // the seg being selected/dragged\n        _this.isDragging = false;\n        _this.eventRange = null;\n        _this.relevantEvents = null; // the events being dragged\n        _this.receivingContext = null;\n        _this.validMutation = null;\n        _this.mutatedRelevantEvents = null;\n        _this.handlePointerDown = function (ev) {\n            var origTarget = ev.origEvent.target;\n            var _a = _this, component = _a.component, dragging = _a.dragging;\n            var mirror = dragging.mirror;\n            var options = component.context.options;\n            var initialContext = component.context;\n            _this.subjectEl = ev.subjectEl;\n            var subjectSeg = _this.subjectSeg = getElSeg(ev.subjectEl);\n            var eventRange = _this.eventRange = subjectSeg.eventRange;\n            var eventInstanceId = eventRange.instance.instanceId;\n            _this.relevantEvents = getRelevantEvents(initialContext.getCurrentData().eventStore, eventInstanceId);\n            dragging.minDistance = ev.isTouch ? 0 : options.eventDragMinDistance;\n            dragging.delay =\n                // only do a touch delay if touch and this event hasn't been selected yet\n                (ev.isTouch && eventInstanceId !== component.props.eventSelection) ?\n                    getComponentTouchDelay(component) :\n                    null;\n            if (options.fixedMirrorParent) {\n                mirror.parentNode = options.fixedMirrorParent;\n            }\n            else {\n                mirror.parentNode = elementClosest(origTarget, '.fc');\n            }\n            mirror.revertDuration = options.dragRevertDuration;\n            var isValid = component.isValidSegDownEl(origTarget) &&\n                !elementClosest(origTarget, '.fc-event-resizer'); // NOT on a resizer\n            dragging.setIgnoreMove(!isValid);\n            // disable dragging for elements that are resizable (ie, selectable)\n            // but are not draggable\n            _this.isDragging = isValid &&\n                ev.subjectEl.classList.contains('fc-event-draggable');\n        };\n        _this.handleDragStart = function (ev) {\n            var initialContext = _this.component.context;\n            var eventRange = _this.eventRange;\n            var eventInstanceId = eventRange.instance.instanceId;\n            if (ev.isTouch) {\n                // need to select a different event?\n                if (eventInstanceId !== _this.component.props.eventSelection) {\n                    initialContext.dispatch({ type: 'SELECT_EVENT', eventInstanceId: eventInstanceId });\n                }\n            }\n            else {\n                // if now using mouse, but was previous touch interaction, clear selected event\n                initialContext.dispatch({ type: 'UNSELECT_EVENT' });\n            }\n            if (_this.isDragging) {\n                initialContext.calendarApi.unselect(ev); // unselect *date* selection\n                initialContext.emitter.trigger('eventDragStart', {\n                    el: _this.subjectEl,\n                    event: new EventApi(initialContext, eventRange.def, eventRange.instance),\n                    jsEvent: ev.origEvent,\n                    view: initialContext.viewApi,\n                });\n            }\n        };\n        _this.handleHitUpdate = function (hit, isFinal) {\n            if (!_this.isDragging) {\n                return;\n            }\n            var relevantEvents = _this.relevantEvents;\n            var initialHit = _this.hitDragging.initialHit;\n            var initialContext = _this.component.context;\n            // states based on new hit\n            var receivingContext = null;\n            var mutation = null;\n            var mutatedRelevantEvents = null;\n            var isInvalid = false;\n            var interaction = {\n                affectedEvents: relevantEvents,\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: true,\n            };\n            if (hit) {\n                receivingContext = hit.context;\n                var receivingOptions = receivingContext.options;\n                if (initialContext === receivingContext ||\n                    (receivingOptions.editable && receivingOptions.droppable)) {\n                    mutation = computeEventMutation(initialHit, hit, receivingContext.getCurrentData().pluginHooks.eventDragMutationMassagers);\n                    if (mutation) {\n                        mutatedRelevantEvents = applyMutationToEventStore(relevantEvents, receivingContext.getCurrentData().eventUiBases, mutation, receivingContext);\n                        interaction.mutatedEvents = mutatedRelevantEvents;\n                        if (!isInteractionValid(interaction, hit.dateProfile, receivingContext)) {\n                            isInvalid = true;\n                            mutation = null;\n                            mutatedRelevantEvents = null;\n                            interaction.mutatedEvents = createEmptyEventStore();\n                        }\n                    }\n                }\n                else {\n                    receivingContext = null;\n                }\n            }\n            _this.displayDrag(receivingContext, interaction);\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                if (initialContext === receivingContext && // TODO: write test for this\n                    isHitsEqual(initialHit, hit)) {\n                    mutation = null;\n                }\n                _this.dragging.setMirrorNeedsRevert(!mutation);\n                // render the mirror if no already-rendered mirror\n                // TODO: wish we could somehow wait for dispatch to guarantee render\n                _this.dragging.setMirrorIsVisible(!hit || !getElRoot(_this.subjectEl).querySelector('.fc-event-mirror'));\n                // assign states based on new hit\n                _this.receivingContext = receivingContext;\n                _this.validMutation = mutation;\n                _this.mutatedRelevantEvents = mutatedRelevantEvents;\n            }\n        };\n        _this.handlePointerUp = function () {\n            if (!_this.isDragging) {\n                _this.cleanup(); // because handleDragEnd won't fire\n            }\n        };\n        _this.handleDragEnd = function (ev) {\n            if (_this.isDragging) {\n                var initialContext_1 = _this.component.context;\n                var initialView = initialContext_1.viewApi;\n                var _a = _this, receivingContext_1 = _a.receivingContext, validMutation = _a.validMutation;\n                var eventDef = _this.eventRange.def;\n                var eventInstance = _this.eventRange.instance;\n                var eventApi = new EventApi(initialContext_1, eventDef, eventInstance);\n                var relevantEvents_1 = _this.relevantEvents;\n                var mutatedRelevantEvents_1 = _this.mutatedRelevantEvents;\n                var finalHit = _this.hitDragging.finalHit;\n                _this.clearDrag(); // must happen after revert animation\n                initialContext_1.emitter.trigger('eventDragStop', {\n                    el: _this.subjectEl,\n                    event: eventApi,\n                    jsEvent: ev.origEvent,\n                    view: initialView,\n                });\n                if (validMutation) {\n                    // dropped within same calendar\n                    if (receivingContext_1 === initialContext_1) {\n                        var updatedEventApi = new EventApi(initialContext_1, mutatedRelevantEvents_1.defs[eventDef.defId], eventInstance ? mutatedRelevantEvents_1.instances[eventInstance.instanceId] : null);\n                        initialContext_1.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: mutatedRelevantEvents_1,\n                        });\n                        var eventChangeArg = {\n                            oldEvent: eventApi,\n                            event: updatedEventApi,\n                            relatedEvents: buildEventApis(mutatedRelevantEvents_1, initialContext_1, eventInstance),\n                            revert: function () {\n                                initialContext_1.dispatch({\n                                    type: 'MERGE_EVENTS',\n                                    eventStore: relevantEvents_1, // the pre-change data\n                                });\n                            },\n                        };\n                        var transformed = {};\n                        for (var _i = 0, _b = initialContext_1.getCurrentData().pluginHooks.eventDropTransformers; _i < _b.length; _i++) {\n                            var transformer = _b[_i];\n                            __assign(transformed, transformer(validMutation, initialContext_1));\n                        }\n                        initialContext_1.emitter.trigger('eventDrop', __assign(__assign(__assign({}, eventChangeArg), transformed), { el: ev.subjectEl, delta: validMutation.datesDelta, jsEvent: ev.origEvent, view: initialView }));\n                        initialContext_1.emitter.trigger('eventChange', eventChangeArg);\n                        // dropped in different calendar\n                    }\n                    else if (receivingContext_1) {\n                        var eventRemoveArg = {\n                            event: eventApi,\n                            relatedEvents: buildEventApis(relevantEvents_1, initialContext_1, eventInstance),\n                            revert: function () {\n                                initialContext_1.dispatch({\n                                    type: 'MERGE_EVENTS',\n                                    eventStore: relevantEvents_1,\n                                });\n                            },\n                        };\n                        initialContext_1.emitter.trigger('eventLeave', __assign(__assign({}, eventRemoveArg), { draggedEl: ev.subjectEl, view: initialView }));\n                        initialContext_1.dispatch({\n                            type: 'REMOVE_EVENTS',\n                            eventStore: relevantEvents_1,\n                        });\n                        initialContext_1.emitter.trigger('eventRemove', eventRemoveArg);\n                        var addedEventDef = mutatedRelevantEvents_1.defs[eventDef.defId];\n                        var addedEventInstance = mutatedRelevantEvents_1.instances[eventInstance.instanceId];\n                        var addedEventApi = new EventApi(receivingContext_1, addedEventDef, addedEventInstance);\n                        receivingContext_1.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: mutatedRelevantEvents_1,\n                        });\n                        var eventAddArg = {\n                            event: addedEventApi,\n                            relatedEvents: buildEventApis(mutatedRelevantEvents_1, receivingContext_1, addedEventInstance),\n                            revert: function () {\n                                receivingContext_1.dispatch({\n                                    type: 'REMOVE_EVENTS',\n                                    eventStore: mutatedRelevantEvents_1,\n                                });\n                            },\n                        };\n                        receivingContext_1.emitter.trigger('eventAdd', eventAddArg);\n                        if (ev.isTouch) {\n                            receivingContext_1.dispatch({\n                                type: 'SELECT_EVENT',\n                                eventInstanceId: eventInstance.instanceId,\n                            });\n                        }\n                        receivingContext_1.emitter.trigger('drop', __assign(__assign({}, buildDatePointApiWithContext(finalHit.dateSpan, receivingContext_1)), { draggedEl: ev.subjectEl, jsEvent: ev.origEvent, view: finalHit.context.viewApi }));\n                        receivingContext_1.emitter.trigger('eventReceive', __assign(__assign({}, eventAddArg), { draggedEl: ev.subjectEl, view: finalHit.context.viewApi }));\n                    }\n                }\n                else {\n                    initialContext_1.emitter.trigger('_noEventDrop');\n                }\n            }\n            _this.cleanup();\n        };\n        var component = _this.component;\n        var options = component.context.options;\n        var dragging = _this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.pointer.selector = EventDragging.SELECTOR;\n        dragging.touchScrollAllowed = false;\n        dragging.autoScroller.isEnabled = options.dragScroll;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsStore);\n        hitDragging.useSubjectCenter = settings.useEventCenter;\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', _this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', _this.handleHitUpdate);\n        hitDragging.emitter.on('pointerup', _this.handlePointerUp);\n        hitDragging.emitter.on('dragend', _this.handleDragEnd);\n        return _this;\n    }\n    EventDragging.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    // render a drag state on the next receivingCalendar\n    EventDragging.prototype.displayDrag = function (nextContext, state) {\n        var initialContext = this.component.context;\n        var prevContext = this.receivingContext;\n        // does the previous calendar need to be cleared?\n        if (prevContext && prevContext !== nextContext) {\n            // does the initial calendar need to be cleared?\n            // if so, don't clear all the way. we still need to to hide the affectedEvents\n            if (prevContext === initialContext) {\n                prevContext.dispatch({\n                    type: 'SET_EVENT_DRAG',\n                    state: {\n                        affectedEvents: state.affectedEvents,\n                        mutatedEvents: createEmptyEventStore(),\n                        isEvent: true,\n                    },\n                });\n                // completely clear the old calendar if it wasn't the initial\n            }\n            else {\n                prevContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n            }\n        }\n        if (nextContext) {\n            nextContext.dispatch({ type: 'SET_EVENT_DRAG', state: state });\n        }\n    };\n    EventDragging.prototype.clearDrag = function () {\n        var initialCalendar = this.component.context;\n        var receivingContext = this.receivingContext;\n        if (receivingContext) {\n            receivingContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n        // the initial calendar might have an dummy drag state from displayDrag\n        if (initialCalendar !== receivingContext) {\n            initialCalendar.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n    };\n    EventDragging.prototype.cleanup = function () {\n        this.subjectSeg = null;\n        this.isDragging = false;\n        this.eventRange = null;\n        this.relevantEvents = null;\n        this.receivingContext = null;\n        this.validMutation = null;\n        this.mutatedRelevantEvents = null;\n    };\n    // TODO: test this in IE11\n    // QUESTION: why do we need it on the resizable???\n    EventDragging.SELECTOR = '.fc-event-draggable, .fc-event-resizable';\n    return EventDragging;\n}(Interaction));\nfunction computeEventMutation(hit0, hit1, massagers) {\n    var dateSpan0 = hit0.dateSpan;\n    var dateSpan1 = hit1.dateSpan;\n    var date0 = dateSpan0.range.start;\n    var date1 = dateSpan1.range.start;\n    var standardProps = {};\n    if (dateSpan0.allDay !== dateSpan1.allDay) {\n        standardProps.allDay = dateSpan1.allDay;\n        standardProps.hasEnd = hit1.context.options.allDayMaintainDuration;\n        if (dateSpan1.allDay) {\n            // means date1 is already start-of-day,\n            // but date0 needs to be converted\n            date0 = startOfDay(date0);\n        }\n    }\n    var delta = diffDates(date0, date1, hit0.context.dateEnv, hit0.componentId === hit1.componentId ?\n        hit0.largeUnit :\n        null);\n    if (delta.milliseconds) { // has hours/minutes/seconds\n        standardProps.allDay = false;\n    }\n    var mutation = {\n        datesDelta: delta,\n        standardProps: standardProps,\n    };\n    for (var _i = 0, massagers_1 = massagers; _i < massagers_1.length; _i++) {\n        var massager = massagers_1[_i];\n        massager(mutation, hit0, hit1);\n    }\n    return mutation;\n}\nfunction getComponentTouchDelay(component) {\n    var options = component.context.options;\n    var delay = options.eventLongPressDelay;\n    if (delay == null) {\n        delay = options.longPressDelay;\n    }\n    return delay;\n}\n\nvar EventResizing = /** @class */ (function (_super) {\n    __extends(EventResizing, _super);\n    function EventResizing(settings) {\n        var _this = _super.call(this, settings) || this;\n        // internal state\n        _this.draggingSegEl = null;\n        _this.draggingSeg = null; // TODO: rename to resizingSeg? subjectSeg?\n        _this.eventRange = null;\n        _this.relevantEvents = null;\n        _this.validMutation = null;\n        _this.mutatedRelevantEvents = null;\n        _this.handlePointerDown = function (ev) {\n            var component = _this.component;\n            var segEl = _this.querySegEl(ev);\n            var seg = getElSeg(segEl);\n            var eventRange = _this.eventRange = seg.eventRange;\n            _this.dragging.minDistance = component.context.options.eventDragMinDistance;\n            // if touch, need to be working with a selected event\n            _this.dragging.setIgnoreMove(!_this.component.isValidSegDownEl(ev.origEvent.target) ||\n                (ev.isTouch && _this.component.props.eventSelection !== eventRange.instance.instanceId));\n        };\n        _this.handleDragStart = function (ev) {\n            var context = _this.component.context;\n            var eventRange = _this.eventRange;\n            _this.relevantEvents = getRelevantEvents(context.getCurrentData().eventStore, _this.eventRange.instance.instanceId);\n            var segEl = _this.querySegEl(ev);\n            _this.draggingSegEl = segEl;\n            _this.draggingSeg = getElSeg(segEl);\n            context.calendarApi.unselect();\n            context.emitter.trigger('eventResizeStart', {\n                el: segEl,\n                event: new EventApi(context, eventRange.def, eventRange.instance),\n                jsEvent: ev.origEvent,\n                view: context.viewApi,\n            });\n        };\n        _this.handleHitUpdate = function (hit, isFinal, ev) {\n            var context = _this.component.context;\n            var relevantEvents = _this.relevantEvents;\n            var initialHit = _this.hitDragging.initialHit;\n            var eventInstance = _this.eventRange.instance;\n            var mutation = null;\n            var mutatedRelevantEvents = null;\n            var isInvalid = false;\n            var interaction = {\n                affectedEvents: relevantEvents,\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: true,\n            };\n            if (hit) {\n                var disallowed = hit.componentId === initialHit.componentId\n                    && _this.isHitComboAllowed\n                    && !_this.isHitComboAllowed(initialHit, hit);\n                if (!disallowed) {\n                    mutation = computeMutation(initialHit, hit, ev.subjectEl.classList.contains('fc-event-resizer-start'), eventInstance.range);\n                }\n            }\n            if (mutation) {\n                mutatedRelevantEvents = applyMutationToEventStore(relevantEvents, context.getCurrentData().eventUiBases, mutation, context);\n                interaction.mutatedEvents = mutatedRelevantEvents;\n                if (!isInteractionValid(interaction, hit.dateProfile, context)) {\n                    isInvalid = true;\n                    mutation = null;\n                    mutatedRelevantEvents = null;\n                    interaction.mutatedEvents = null;\n                }\n            }\n            if (mutatedRelevantEvents) {\n                context.dispatch({\n                    type: 'SET_EVENT_RESIZE',\n                    state: interaction,\n                });\n            }\n            else {\n                context.dispatch({ type: 'UNSET_EVENT_RESIZE' });\n            }\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                if (mutation && isHitsEqual(initialHit, hit)) {\n                    mutation = null;\n                }\n                _this.validMutation = mutation;\n                _this.mutatedRelevantEvents = mutatedRelevantEvents;\n            }\n        };\n        _this.handleDragEnd = function (ev) {\n            var context = _this.component.context;\n            var eventDef = _this.eventRange.def;\n            var eventInstance = _this.eventRange.instance;\n            var eventApi = new EventApi(context, eventDef, eventInstance);\n            var relevantEvents = _this.relevantEvents;\n            var mutatedRelevantEvents = _this.mutatedRelevantEvents;\n            context.emitter.trigger('eventResizeStop', {\n                el: _this.draggingSegEl,\n                event: eventApi,\n                jsEvent: ev.origEvent,\n                view: context.viewApi,\n            });\n            if (_this.validMutation) {\n                var updatedEventApi = new EventApi(context, mutatedRelevantEvents.defs[eventDef.defId], eventInstance ? mutatedRelevantEvents.instances[eventInstance.instanceId] : null);\n                context.dispatch({\n                    type: 'MERGE_EVENTS',\n                    eventStore: mutatedRelevantEvents,\n                });\n                var eventChangeArg = {\n                    oldEvent: eventApi,\n                    event: updatedEventApi,\n                    relatedEvents: buildEventApis(mutatedRelevantEvents, context, eventInstance),\n                    revert: function () {\n                        context.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: relevantEvents, // the pre-change events\n                        });\n                    },\n                };\n                context.emitter.trigger('eventResize', __assign(__assign({}, eventChangeArg), { el: _this.draggingSegEl, startDelta: _this.validMutation.startDelta || createDuration(0), endDelta: _this.validMutation.endDelta || createDuration(0), jsEvent: ev.origEvent, view: context.viewApi }));\n                context.emitter.trigger('eventChange', eventChangeArg);\n            }\n            else {\n                context.emitter.trigger('_noEventResize');\n            }\n            // reset all internal state\n            _this.draggingSeg = null;\n            _this.relevantEvents = null;\n            _this.validMutation = null;\n            // okay to keep eventInstance around. useful to set it in handlePointerDown\n        };\n        var component = settings.component;\n        var dragging = _this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.pointer.selector = '.fc-event-resizer';\n        dragging.touchScrollAllowed = false;\n        dragging.autoScroller.isEnabled = component.context.options.dragScroll;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', _this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', _this.handleHitUpdate);\n        hitDragging.emitter.on('dragend', _this.handleDragEnd);\n        return _this;\n    }\n    EventResizing.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    EventResizing.prototype.querySegEl = function (ev) {\n        return elementClosest(ev.subjectEl, '.fc-event');\n    };\n    return EventResizing;\n}(Interaction));\nfunction computeMutation(hit0, hit1, isFromStart, instanceRange) {\n    var dateEnv = hit0.context.dateEnv;\n    var date0 = hit0.dateSpan.range.start;\n    var date1 = hit1.dateSpan.range.start;\n    var delta = diffDates(date0, date1, dateEnv, hit0.largeUnit);\n    if (isFromStart) {\n        if (dateEnv.add(instanceRange.start, delta) < instanceRange.end) {\n            return { startDelta: delta };\n        }\n    }\n    else if (dateEnv.add(instanceRange.end, delta) > instanceRange.start) {\n        return { endDelta: delta };\n    }\n    return null;\n}\n\nvar UnselectAuto = /** @class */ (function () {\n    function UnselectAuto(context) {\n        var _this = this;\n        this.context = context;\n        this.isRecentPointerDateSelect = false; // wish we could use a selector to detect date selection, but uses hit system\n        this.matchesCancel = false;\n        this.matchesEvent = false;\n        this.onSelect = function (selectInfo) {\n            if (selectInfo.jsEvent) {\n                _this.isRecentPointerDateSelect = true;\n            }\n        };\n        this.onDocumentPointerDown = function (pev) {\n            var unselectCancel = _this.context.options.unselectCancel;\n            var downEl = getEventTargetViaRoot(pev.origEvent);\n            _this.matchesCancel = !!elementClosest(downEl, unselectCancel);\n            _this.matchesEvent = !!elementClosest(downEl, EventDragging.SELECTOR); // interaction started on an event?\n        };\n        this.onDocumentPointerUp = function (pev) {\n            var context = _this.context;\n            var documentPointer = _this.documentPointer;\n            var calendarState = context.getCurrentData();\n            // touch-scrolling should never unfocus any type of selection\n            if (!documentPointer.wasTouchScroll) {\n                if (calendarState.dateSelection && // an existing date selection?\n                    !_this.isRecentPointerDateSelect // a new pointer-initiated date selection since last onDocumentPointerUp?\n                ) {\n                    var unselectAuto = context.options.unselectAuto;\n                    if (unselectAuto && (!unselectAuto || !_this.matchesCancel)) {\n                        context.calendarApi.unselect(pev);\n                    }\n                }\n                if (calendarState.eventSelection && // an existing event selected?\n                    !_this.matchesEvent // interaction DIDN'T start on an event\n                ) {\n                    context.dispatch({ type: 'UNSELECT_EVENT' });\n                }\n            }\n            _this.isRecentPointerDateSelect = false;\n        };\n        var documentPointer = this.documentPointer = new PointerDragging(document);\n        documentPointer.shouldIgnoreMove = true;\n        documentPointer.shouldWatchScroll = false;\n        documentPointer.emitter.on('pointerdown', this.onDocumentPointerDown);\n        documentPointer.emitter.on('pointerup', this.onDocumentPointerUp);\n        /*\n        TODO: better way to know about whether there was a selection with the pointer\n        */\n        context.emitter.on('select', this.onSelect);\n    }\n    UnselectAuto.prototype.destroy = function () {\n        this.context.emitter.off('select', this.onSelect);\n        this.documentPointer.destroy();\n    };\n    return UnselectAuto;\n}());\n\nvar OPTION_REFINERS = {\n    fixedMirrorParent: identity,\n};\nvar LISTENER_REFINERS = {\n    dateClick: identity,\n    eventDragStart: identity,\n    eventDragStop: identity,\n    eventDrop: identity,\n    eventResizeStart: identity,\n    eventResizeStop: identity,\n    eventResize: identity,\n    drop: identity,\n    eventReceive: identity,\n    eventLeave: identity,\n};\n\n/*\nGiven an already instantiated draggable object for one-or-more elements,\nInterprets any dragging as an attempt to drag an events that lives outside\nof a calendar onto a calendar.\n*/\nvar ExternalElementDragging = /** @class */ (function () {\n    function ExternalElementDragging(dragging, suppliedDragMeta) {\n        var _this = this;\n        this.receivingContext = null;\n        this.droppableEvent = null; // will exist for all drags, even if create:false\n        this.suppliedDragMeta = null;\n        this.dragMeta = null;\n        this.handleDragStart = function (ev) {\n            _this.dragMeta = _this.buildDragMeta(ev.subjectEl);\n        };\n        this.handleHitUpdate = function (hit, isFinal, ev) {\n            var dragging = _this.hitDragging.dragging;\n            var receivingContext = null;\n            var droppableEvent = null;\n            var isInvalid = false;\n            var interaction = {\n                affectedEvents: createEmptyEventStore(),\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: _this.dragMeta.create,\n            };\n            if (hit) {\n                receivingContext = hit.context;\n                if (_this.canDropElOnCalendar(ev.subjectEl, receivingContext)) {\n                    droppableEvent = computeEventForDateSpan(hit.dateSpan, _this.dragMeta, receivingContext);\n                    interaction.mutatedEvents = eventTupleToStore(droppableEvent);\n                    isInvalid = !isInteractionValid(interaction, hit.dateProfile, receivingContext);\n                    if (isInvalid) {\n                        interaction.mutatedEvents = createEmptyEventStore();\n                        droppableEvent = null;\n                    }\n                }\n            }\n            _this.displayDrag(receivingContext, interaction);\n            // show mirror if no already-rendered mirror element OR if we are shutting down the mirror (?)\n            // TODO: wish we could somehow wait for dispatch to guarantee render\n            dragging.setMirrorIsVisible(isFinal || !droppableEvent || !document.querySelector('.fc-event-mirror'));\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                dragging.setMirrorNeedsRevert(!droppableEvent);\n                _this.receivingContext = receivingContext;\n                _this.droppableEvent = droppableEvent;\n            }\n        };\n        this.handleDragEnd = function (pev) {\n            var _a = _this, receivingContext = _a.receivingContext, droppableEvent = _a.droppableEvent;\n            _this.clearDrag();\n            if (receivingContext && droppableEvent) {\n                var finalHit = _this.hitDragging.finalHit;\n                var finalView = finalHit.context.viewApi;\n                var dragMeta = _this.dragMeta;\n                receivingContext.emitter.trigger('drop', __assign(__assign({}, buildDatePointApiWithContext(finalHit.dateSpan, receivingContext)), { draggedEl: pev.subjectEl, jsEvent: pev.origEvent, view: finalView }));\n                if (dragMeta.create) {\n                    var addingEvents_1 = eventTupleToStore(droppableEvent);\n                    receivingContext.dispatch({\n                        type: 'MERGE_EVENTS',\n                        eventStore: addingEvents_1,\n                    });\n                    if (pev.isTouch) {\n                        receivingContext.dispatch({\n                            type: 'SELECT_EVENT',\n                            eventInstanceId: droppableEvent.instance.instanceId,\n                        });\n                    }\n                    // signal that an external event landed\n                    receivingContext.emitter.trigger('eventReceive', {\n                        event: new EventApi(receivingContext, droppableEvent.def, droppableEvent.instance),\n                        relatedEvents: [],\n                        revert: function () {\n                            receivingContext.dispatch({\n                                type: 'REMOVE_EVENTS',\n                                eventStore: addingEvents_1,\n                            });\n                        },\n                        draggedEl: pev.subjectEl,\n                        view: finalView,\n                    });\n                }\n            }\n            _this.receivingContext = null;\n            _this.droppableEvent = null;\n        };\n        var hitDragging = this.hitDragging = new HitDragging(dragging, interactionSettingsStore);\n        hitDragging.requireInitial = false; // will start outside of a component\n        hitDragging.emitter.on('dragstart', this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', this.handleHitUpdate);\n        hitDragging.emitter.on('dragend', this.handleDragEnd);\n        this.suppliedDragMeta = suppliedDragMeta;\n    }\n    ExternalElementDragging.prototype.buildDragMeta = function (subjectEl) {\n        if (typeof this.suppliedDragMeta === 'object') {\n            return parseDragMeta(this.suppliedDragMeta);\n        }\n        if (typeof this.suppliedDragMeta === 'function') {\n            return parseDragMeta(this.suppliedDragMeta(subjectEl));\n        }\n        return getDragMetaFromEl(subjectEl);\n    };\n    ExternalElementDragging.prototype.displayDrag = function (nextContext, state) {\n        var prevContext = this.receivingContext;\n        if (prevContext && prevContext !== nextContext) {\n            prevContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n        if (nextContext) {\n            nextContext.dispatch({ type: 'SET_EVENT_DRAG', state: state });\n        }\n    };\n    ExternalElementDragging.prototype.clearDrag = function () {\n        if (this.receivingContext) {\n            this.receivingContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n    };\n    ExternalElementDragging.prototype.canDropElOnCalendar = function (el, receivingContext) {\n        var dropAccept = receivingContext.options.dropAccept;\n        if (typeof dropAccept === 'function') {\n            return dropAccept.call(receivingContext.calendarApi, el);\n        }\n        if (typeof dropAccept === 'string' && dropAccept) {\n            return Boolean(elementMatches(el, dropAccept));\n        }\n        return true;\n    };\n    return ExternalElementDragging;\n}());\n// Utils for computing event store from the DragMeta\n// ----------------------------------------------------------------------------------------------------\nfunction computeEventForDateSpan(dateSpan, dragMeta, context) {\n    var defProps = __assign({}, dragMeta.leftoverProps);\n    for (var _i = 0, _a = context.pluginHooks.externalDefTransforms; _i < _a.length; _i++) {\n        var transform = _a[_i];\n        __assign(defProps, transform(dateSpan, dragMeta));\n    }\n    var _b = refineEventDef(defProps, context), refined = _b.refined, extra = _b.extra;\n    var def = parseEventDef(refined, extra, dragMeta.sourceId, dateSpan.allDay, context.options.forceEventDuration || Boolean(dragMeta.duration), // hasEnd\n    context);\n    var start = dateSpan.range.start;\n    // only rely on time info if drop zone is all-day,\n    // otherwise, we already know the time\n    if (dateSpan.allDay && dragMeta.startTime) {\n        start = context.dateEnv.add(start, dragMeta.startTime);\n    }\n    var end = dragMeta.duration ?\n        context.dateEnv.add(start, dragMeta.duration) :\n        getDefaultEventEnd(dateSpan.allDay, start, context);\n    var instance = createEventInstance(def.defId, { start: start, end: end });\n    return { def: def, instance: instance };\n}\n// Utils for extracting data from element\n// ----------------------------------------------------------------------------------------------------\nfunction getDragMetaFromEl(el) {\n    var str = getEmbeddedElData(el, 'event');\n    var obj = str ?\n        JSON.parse(str) :\n        { create: false }; // if no embedded data, assume no event creation\n    return parseDragMeta(obj);\n}\nconfig.dataAttrPrefix = '';\nfunction getEmbeddedElData(el, name) {\n    var prefix = config.dataAttrPrefix;\n    var prefixedName = (prefix ? prefix + '-' : '') + name;\n    return el.getAttribute('data-' + prefixedName) || '';\n}\n\n/*\nMakes an element (that is *external* to any calendar) draggable.\nCan pass in data that determines how an event will be created when dropped onto a calendar.\nLeverages FullCalendar's internal drag-n-drop functionality WITHOUT a third-party drag system.\n*/\nvar ExternalDraggable = /** @class */ (function () {\n    function ExternalDraggable(el, settings) {\n        var _this = this;\n        if (settings === void 0) { settings = {}; }\n        this.handlePointerDown = function (ev) {\n            var dragging = _this.dragging;\n            var _a = _this.settings, minDistance = _a.minDistance, longPressDelay = _a.longPressDelay;\n            dragging.minDistance =\n                minDistance != null ?\n                    minDistance :\n                    (ev.isTouch ? 0 : BASE_OPTION_DEFAULTS.eventDragMinDistance);\n            dragging.delay =\n                ev.isTouch ? // TODO: eventually read eventLongPressDelay instead vvv\n                    (longPressDelay != null ? longPressDelay : BASE_OPTION_DEFAULTS.longPressDelay) :\n                    0;\n        };\n        this.handleDragStart = function (ev) {\n            if (ev.isTouch &&\n                _this.dragging.delay &&\n                ev.subjectEl.classList.contains('fc-event')) {\n                _this.dragging.mirror.getMirrorEl().classList.add('fc-event-selected');\n            }\n        };\n        this.settings = settings;\n        var dragging = this.dragging = new FeaturefulElementDragging(el);\n        dragging.touchScrollAllowed = false;\n        if (settings.itemSelector != null) {\n            dragging.pointer.selector = settings.itemSelector;\n        }\n        if (settings.appendTo != null) {\n            dragging.mirror.parentNode = settings.appendTo; // TODO: write tests\n        }\n        dragging.emitter.on('pointerdown', this.handlePointerDown);\n        dragging.emitter.on('dragstart', this.handleDragStart);\n        new ExternalElementDragging(dragging, settings.eventData); // eslint-disable-line no-new\n    }\n    ExternalDraggable.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return ExternalDraggable;\n}());\n\n/*\nDetects when a *THIRD-PARTY* drag-n-drop system interacts with elements.\nThe third-party system is responsible for drawing the visuals effects of the drag.\nThis class simply monitors for pointer movements and fires events.\nIt also has the ability to hide the moving element (the \"mirror\") during the drag.\n*/\nvar InferredElementDragging = /** @class */ (function (_super) {\n    __extends(InferredElementDragging, _super);\n    function InferredElementDragging(containerEl) {\n        var _this = _super.call(this, containerEl) || this;\n        _this.shouldIgnoreMove = false;\n        _this.mirrorSelector = '';\n        _this.currentMirrorEl = null;\n        _this.handlePointerDown = function (ev) {\n            _this.emitter.trigger('pointerdown', ev);\n            if (!_this.shouldIgnoreMove) {\n                // fire dragstart right away. does not support delay or min-distance\n                _this.emitter.trigger('dragstart', ev);\n            }\n        };\n        _this.handlePointerMove = function (ev) {\n            if (!_this.shouldIgnoreMove) {\n                _this.emitter.trigger('dragmove', ev);\n            }\n        };\n        _this.handlePointerUp = function (ev) {\n            _this.emitter.trigger('pointerup', ev);\n            if (!_this.shouldIgnoreMove) {\n                // fire dragend right away. does not support a revert animation\n                _this.emitter.trigger('dragend', ev);\n            }\n        };\n        var pointer = _this.pointer = new PointerDragging(containerEl);\n        pointer.emitter.on('pointerdown', _this.handlePointerDown);\n        pointer.emitter.on('pointermove', _this.handlePointerMove);\n        pointer.emitter.on('pointerup', _this.handlePointerUp);\n        return _this;\n    }\n    InferredElementDragging.prototype.destroy = function () {\n        this.pointer.destroy();\n    };\n    InferredElementDragging.prototype.setIgnoreMove = function (bool) {\n        this.shouldIgnoreMove = bool;\n    };\n    InferredElementDragging.prototype.setMirrorIsVisible = function (bool) {\n        if (bool) {\n            // restore a previously hidden element.\n            // use the reference in case the selector class has already been removed.\n            if (this.currentMirrorEl) {\n                this.currentMirrorEl.style.visibility = '';\n                this.currentMirrorEl = null;\n            }\n        }\n        else {\n            var mirrorEl = this.mirrorSelector\n                // TODO: somehow query FullCalendars WITHIN shadow-roots\n                ? document.querySelector(this.mirrorSelector)\n                : null;\n            if (mirrorEl) {\n                this.currentMirrorEl = mirrorEl;\n                mirrorEl.style.visibility = 'hidden';\n            }\n        }\n    };\n    return InferredElementDragging;\n}(ElementDragging));\n\n/*\nBridges third-party drag-n-drop systems with FullCalendar.\nMust be instantiated and destroyed by caller.\n*/\nvar ThirdPartyDraggable = /** @class */ (function () {\n    function ThirdPartyDraggable(containerOrSettings, settings) {\n        var containerEl = document;\n        if (\n        // wish we could just test instanceof EventTarget, but doesn't work in IE11\n        containerOrSettings === document ||\n            containerOrSettings instanceof Element) {\n            containerEl = containerOrSettings;\n            settings = settings || {};\n        }\n        else {\n            settings = (containerOrSettings || {});\n        }\n        var dragging = this.dragging = new InferredElementDragging(containerEl);\n        if (typeof settings.itemSelector === 'string') {\n            dragging.pointer.selector = settings.itemSelector;\n        }\n        else if (containerEl === document) {\n            dragging.pointer.selector = '[data-event]';\n        }\n        if (typeof settings.mirrorSelector === 'string') {\n            dragging.mirrorSelector = settings.mirrorSelector;\n        }\n        new ExternalElementDragging(dragging, settings.eventData); // eslint-disable-line no-new\n    }\n    ThirdPartyDraggable.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return ThirdPartyDraggable;\n}());\n\nvar main = createPlugin({\n    componentInteractions: [DateClicking, DateSelecting, EventDragging, EventResizing],\n    calendarInteractions: [UnselectAuto],\n    elementDraggingImpl: FeaturefulElementDragging,\n    optionRefiners: OPTION_REFINERS,\n    listenerRefiners: LISTENER_REFINERS,\n});\n\nexport default main;\nexport { ExternalDraggable as Draggable, FeaturefulElementDragging, PointerDragging, ThirdPartyDraggable };\n//# sourceMappingURL=main.js.map\n","/*!\nFullCalendar v5.9.0\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport './main.css';\n\nimport { hasBgRendering, Splitter, createFormatter, createElement, ViewContextType, RenderHook, BaseComponent, createRef, diffDays, buildNavLinkData, WeekNumberRoot, getStickyHeaderDates, ViewRoot, SimpleScrollGrid, getStickyFooterScrollbar, NowTimer, NowIndicatorRoot, renderScrollShim, DateComponent, rangeContainsMarker, startOfDay, asRoughMs, createDuration, RefMap, PositionCache, MoreLinkRoot, setRef, SegHierarchy, groupIntersectingEntries, buildEntryKey, binarySearch, getEntrySpanEnd, StandardEvent, DayCellContent, Fragment, getSegMeta, memoize, sortEventSegs, DayCellRoot, buildIsoString, computeEarliestSegStart, buildEventRangeKey, BgEvent, renderFill, addDurations, multiplyDuration, wholeDivideDurations, intersectRanges, Slicer, formatIsoTimeString, DayHeader, DaySeriesModel, DayTableModel, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign } from 'tslib';\nimport { DayTable } from '@fullcalendar/daygrid';\n\nvar AllDaySplitter = /** @class */ (function (_super) {\n    __extends(AllDaySplitter, _super);\n    function AllDaySplitter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AllDaySplitter.prototype.getKeyInfo = function () {\n        return {\n            allDay: {},\n            timed: {},\n        };\n    };\n    AllDaySplitter.prototype.getKeysForDateSpan = function (dateSpan) {\n        if (dateSpan.allDay) {\n            return ['allDay'];\n        }\n        return ['timed'];\n    };\n    AllDaySplitter.prototype.getKeysForEventDef = function (eventDef) {\n        if (!eventDef.allDay) {\n            return ['timed'];\n        }\n        if (hasBgRendering(eventDef)) {\n            return ['timed', 'allDay'];\n        }\n        return ['allDay'];\n    };\n    return AllDaySplitter;\n}(Splitter));\n\nvar DEFAULT_SLAT_LABEL_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    omitZeroMinute: true,\n    meridiem: 'short',\n});\nfunction TimeColsAxisCell(props) {\n    var classNames = [\n        'fc-timegrid-slot',\n        'fc-timegrid-slot-label',\n        props.isLabeled ? 'fc-scrollgrid-shrink' : 'fc-timegrid-slot-minor',\n    ];\n    return (createElement(ViewContextType.Consumer, null, function (context) {\n        if (!props.isLabeled) {\n            return (createElement(\"td\", { className: classNames.join(' '), \"data-time\": props.isoTimeStr }));\n        }\n        var dateEnv = context.dateEnv, options = context.options, viewApi = context.viewApi;\n        var labelFormat = // TODO: fully pre-parse\n         options.slotLabelFormat == null ? DEFAULT_SLAT_LABEL_FORMAT :\n            Array.isArray(options.slotLabelFormat) ? createFormatter(options.slotLabelFormat[0]) :\n                createFormatter(options.slotLabelFormat);\n        var hookProps = {\n            level: 0,\n            time: props.time,\n            date: dateEnv.toDate(props.date),\n            view: viewApi,\n            text: dateEnv.format(props.date, labelFormat),\n        };\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.slotLabelClassNames, content: options.slotLabelContent, defaultContent: renderInnerContent, didMount: options.slotLabelDidMount, willUnmount: options.slotLabelWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"td\", { ref: rootElRef, className: classNames.concat(customClassNames).join(' '), \"data-time\": props.isoTimeStr },\n            createElement(\"div\", { className: \"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame\" },\n                createElement(\"div\", { className: \"fc-timegrid-slot-label-cushion fc-scrollgrid-shrink-cushion\", ref: innerElRef }, innerContent)))); }));\n    }));\n}\nfunction renderInnerContent(props) {\n    return props.text;\n}\n\nvar TimeBodyAxis = /** @class */ (function (_super) {\n    __extends(TimeBodyAxis, _super);\n    function TimeBodyAxis() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeBodyAxis.prototype.render = function () {\n        return this.props.slatMetas.map(function (slatMeta) { return (createElement(\"tr\", { key: slatMeta.key },\n            createElement(TimeColsAxisCell, __assign({}, slatMeta)))); });\n    };\n    return TimeBodyAxis;\n}(BaseComponent));\n\nvar DEFAULT_WEEK_NUM_FORMAT = createFormatter({ week: 'short' });\nvar AUTO_ALL_DAY_MAX_EVENT_ROWS = 5;\nvar TimeColsView = /** @class */ (function (_super) {\n    __extends(TimeColsView, _super);\n    function TimeColsView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.allDaySplitter = new AllDaySplitter(); // for use by subclasses\n        _this.headerElRef = createRef();\n        _this.rootElRef = createRef();\n        _this.scrollerElRef = createRef();\n        _this.state = {\n            slatCoords: null,\n        };\n        _this.handleScrollTopRequest = function (scrollTop) {\n            var scrollerEl = _this.scrollerElRef.current;\n            if (scrollerEl) { // TODO: not sure how this could ever be null. weirdness with the reducer\n                scrollerEl.scrollTop = scrollTop;\n            }\n        };\n        /* Header Render Methods\n        ------------------------------------------------------------------------------------------------------------------*/\n        _this.renderHeadAxis = function (rowKey, frameHeight) {\n            if (frameHeight === void 0) { frameHeight = ''; }\n            var options = _this.context.options;\n            var dateProfile = _this.props.dateProfile;\n            var range = dateProfile.renderRange;\n            var dayCnt = diffDays(range.start, range.end);\n            var navLinkAttrs = (options.navLinks && dayCnt === 1) // only do in day views (to avoid doing in week views that dont need it)\n                ? { 'data-navlink': buildNavLinkData(range.start, 'week'), tabIndex: 0 }\n                : {};\n            if (options.weekNumbers && rowKey === 'day') {\n                return (createElement(WeekNumberRoot, { date: range.start, defaultFormat: DEFAULT_WEEK_NUM_FORMAT }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"th\", { ref: rootElRef, className: [\n                        'fc-timegrid-axis',\n                        'fc-scrollgrid-shrink',\n                    ].concat(classNames).join(' ') },\n                    createElement(\"div\", { className: \"fc-timegrid-axis-frame fc-scrollgrid-shrink-frame fc-timegrid-axis-frame-liquid\", style: { height: frameHeight } },\n                        createElement(\"a\", __assign({ ref: innerElRef, className: \"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner\" }, navLinkAttrs), innerContent)))); }));\n            }\n            return (createElement(\"th\", { className: \"fc-timegrid-axis\" },\n                createElement(\"div\", { className: \"fc-timegrid-axis-frame\", style: { height: frameHeight } })));\n        };\n        /* Table Component Render Methods\n        ------------------------------------------------------------------------------------------------------------------*/\n        // only a one-way height sync. we don't send the axis inner-content height to the DayGrid,\n        // but DayGrid still needs to have classNames on inner elements in order to measure.\n        _this.renderTableRowAxis = function (rowHeight) {\n            var _a = _this.context, options = _a.options, viewApi = _a.viewApi;\n            var hookProps = {\n                text: options.allDayText,\n                view: viewApi,\n            };\n            return (\n            // TODO: make reusable hook. used in list view too\n            createElement(RenderHook, { hookProps: hookProps, classNames: options.allDayClassNames, content: options.allDayContent, defaultContent: renderAllDayInner, didMount: options.allDayDidMount, willUnmount: options.allDayWillUnmount }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"td\", { ref: rootElRef, className: [\n                    'fc-timegrid-axis',\n                    'fc-scrollgrid-shrink',\n                ].concat(classNames).join(' ') },\n                createElement(\"div\", { className: 'fc-timegrid-axis-frame fc-scrollgrid-shrink-frame' + (rowHeight == null ? ' fc-timegrid-axis-frame-liquid' : ''), style: { height: rowHeight } },\n                    createElement(\"span\", { className: \"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner\", ref: innerElRef }, innerContent)))); }));\n        };\n        _this.handleSlatCoords = function (slatCoords) {\n            _this.setState({ slatCoords: slatCoords });\n        };\n        return _this;\n    }\n    // rendering\n    // ----------------------------------------------------------------------------------------------------\n    TimeColsView.prototype.renderSimpleLayout = function (headerRowContent, allDayContent, timeContent) {\n        var _a = this, context = _a.context, props = _a.props;\n        var sections = [];\n        var stickyHeaderDates = getStickyHeaderDates(context.options);\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunk: {\n                    elRef: this.headerElRef,\n                    tableClassName: 'fc-col-header',\n                    rowContent: headerRowContent,\n                },\n            });\n        }\n        if (allDayContent) {\n            sections.push({\n                type: 'body',\n                key: 'all-day',\n                chunk: { content: allDayContent },\n            });\n            sections.push({\n                type: 'body',\n                key: 'all-day-divider',\n                outerContent: ( // TODO: rename to cellContent so don't need to define <tr>?\n                createElement(\"tr\", { className: \"fc-scrollgrid-section\" },\n                    createElement(\"td\", { className: 'fc-timegrid-divider ' + context.theme.getClass('tableCellShaded') }))),\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            expandRows: Boolean(context.options.expandRows),\n            chunk: {\n                scrollerElRef: this.scrollerElRef,\n                content: timeContent,\n            },\n        });\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec, elRef: this.rootElRef }, function (rootElRef, classNames) { return (createElement(\"div\", { className: ['fc-timegrid'].concat(classNames).join(' '), ref: rootElRef },\n            createElement(SimpleScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, cols: [{ width: 'shrink' }], sections: sections }))); }));\n    };\n    TimeColsView.prototype.renderHScrollLayout = function (headerRowContent, allDayContent, timeContent, colCnt, dayMinWidth, slatMetas, slatCoords) {\n        var _this = this;\n        var ScrollGrid = this.context.pluginHooks.scrollGridImpl;\n        if (!ScrollGrid) {\n            throw new Error('No ScrollGrid implementation');\n        }\n        var _a = this, context = _a.context, props = _a.props;\n        var stickyHeaderDates = !props.forPrint && getStickyHeaderDates(context.options);\n        var stickyFooterScrollbar = !props.forPrint && getStickyFooterScrollbar(context.options);\n        var sections = [];\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                syncRowHeights: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        rowContent: function (arg) { return (createElement(\"tr\", null, _this.renderHeadAxis('day', arg.rowSyncHeights[0]))); },\n                    },\n                    {\n                        key: 'cols',\n                        elRef: this.headerElRef,\n                        tableClassName: 'fc-col-header',\n                        rowContent: headerRowContent,\n                    },\n                ],\n            });\n        }\n        if (allDayContent) {\n            sections.push({\n                type: 'body',\n                key: 'all-day',\n                syncRowHeights: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        rowContent: function (contentArg) { return (createElement(\"tr\", null, _this.renderTableRowAxis(contentArg.rowSyncHeights[0]))); },\n                    },\n                    {\n                        key: 'cols',\n                        content: allDayContent,\n                    },\n                ],\n            });\n            sections.push({\n                key: 'all-day-divider',\n                type: 'body',\n                outerContent: ( // TODO: rename to cellContent so don't need to define <tr>?\n                createElement(\"tr\", { className: \"fc-scrollgrid-section\" },\n                    createElement(\"td\", { colSpan: 2, className: 'fc-timegrid-divider ' + context.theme.getClass('tableCellShaded') }))),\n            });\n        }\n        var isNowIndicator = context.options.nowIndicator;\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            expandRows: Boolean(context.options.expandRows),\n            chunks: [\n                {\n                    key: 'axis',\n                    content: function (arg) { return (\n                    // TODO: make this now-indicator arrow more DRY with TimeColsContent\n                    createElement(\"div\", { className: \"fc-timegrid-axis-chunk\" },\n                        createElement(\"table\", { style: { height: arg.expandRows ? arg.clientHeight : '' } },\n                            arg.tableColGroupNode,\n                            createElement(\"tbody\", null,\n                                createElement(TimeBodyAxis, { slatMetas: slatMetas }))),\n                        createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" },\n                            createElement(NowTimer, { unit: isNowIndicator ? 'minute' : 'day' /* hacky */ }, function (nowDate) {\n                                var nowIndicatorTop = isNowIndicator &&\n                                    slatCoords &&\n                                    slatCoords.safeComputeTop(nowDate); // might return void\n                                if (typeof nowIndicatorTop === 'number') {\n                                    return (createElement(NowIndicatorRoot, { isAxis: true, date: nowDate }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-timegrid-now-indicator-arrow'].concat(classNames).join(' '), style: { top: nowIndicatorTop } }, innerContent)); }));\n                                }\n                                return null;\n                            })))); },\n                },\n                {\n                    key: 'cols',\n                    scrollerElRef: this.scrollerElRef,\n                    content: timeContent,\n                },\n            ],\n        });\n        if (stickyFooterScrollbar) {\n            sections.push({\n                key: 'footer',\n                type: 'footer',\n                isSticky: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        content: renderScrollShim,\n                    },\n                    {\n                        key: 'cols',\n                        content: renderScrollShim,\n                    },\n                ],\n            });\n        }\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec, elRef: this.rootElRef }, function (rootElRef, classNames) { return (createElement(\"div\", { className: ['fc-timegrid'].concat(classNames).join(' '), ref: rootElRef },\n            createElement(ScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: false, colGroups: [\n                    { width: 'shrink', cols: [{ width: 'shrink' }] },\n                    { cols: [{ span: colCnt, minWidth: dayMinWidth }] },\n                ], sections: sections }))); }));\n    };\n    /* Dimensions\n    ------------------------------------------------------------------------------------------------------------------*/\n    TimeColsView.prototype.getAllDayMaxEventProps = function () {\n        var _a = this.context.options, dayMaxEvents = _a.dayMaxEvents, dayMaxEventRows = _a.dayMaxEventRows;\n        if (dayMaxEvents === true || dayMaxEventRows === true) { // is auto?\n            dayMaxEvents = undefined;\n            dayMaxEventRows = AUTO_ALL_DAY_MAX_EVENT_ROWS; // make sure \"auto\" goes to a real number\n        }\n        return { dayMaxEvents: dayMaxEvents, dayMaxEventRows: dayMaxEventRows };\n    };\n    return TimeColsView;\n}(DateComponent));\nfunction renderAllDayInner(hookProps) {\n    return hookProps.text;\n}\n\nvar TimeColsSlatsCoords = /** @class */ (function () {\n    function TimeColsSlatsCoords(positions, dateProfile, slotDuration) {\n        this.positions = positions;\n        this.dateProfile = dateProfile;\n        this.slotDuration = slotDuration;\n    }\n    TimeColsSlatsCoords.prototype.safeComputeTop = function (date) {\n        var dateProfile = this.dateProfile;\n        if (rangeContainsMarker(dateProfile.currentRange, date)) {\n            var startOfDayDate = startOfDay(date);\n            var timeMs = date.valueOf() - startOfDayDate.valueOf();\n            if (timeMs >= asRoughMs(dateProfile.slotMinTime) &&\n                timeMs < asRoughMs(dateProfile.slotMaxTime)) {\n                return this.computeTimeTop(createDuration(timeMs));\n            }\n        }\n        return null;\n    };\n    // Computes the top coordinate, relative to the bounds of the grid, of the given date.\n    // A `startOfDayDate` must be given for avoiding ambiguity over how to treat midnight.\n    TimeColsSlatsCoords.prototype.computeDateTop = function (when, startOfDayDate) {\n        if (!startOfDayDate) {\n            startOfDayDate = startOfDay(when);\n        }\n        return this.computeTimeTop(createDuration(when.valueOf() - startOfDayDate.valueOf()));\n    };\n    // Computes the top coordinate, relative to the bounds of the grid, of the given time (a Duration).\n    // This is a makeshify way to compute the time-top. Assumes all slatMetas dates are uniform.\n    // Eventually allow computation with arbirary slat dates.\n    TimeColsSlatsCoords.prototype.computeTimeTop = function (duration) {\n        var _a = this, positions = _a.positions, dateProfile = _a.dateProfile;\n        var len = positions.els.length;\n        // floating-point value of # of slots covered\n        var slatCoverage = (duration.milliseconds - asRoughMs(dateProfile.slotMinTime)) / asRoughMs(this.slotDuration);\n        var slatIndex;\n        var slatRemainder;\n        // compute a floating-point number for how many slats should be progressed through.\n        // from 0 to number of slats (inclusive)\n        // constrained because slotMinTime/slotMaxTime might be customized.\n        slatCoverage = Math.max(0, slatCoverage);\n        slatCoverage = Math.min(len, slatCoverage);\n        // an integer index of the furthest whole slat\n        // from 0 to number slats (*exclusive*, so len-1)\n        slatIndex = Math.floor(slatCoverage);\n        slatIndex = Math.min(slatIndex, len - 1);\n        // how much further through the slatIndex slat (from 0.0-1.0) must be covered in addition.\n        // could be 1.0 if slatCoverage is covering *all* the slots\n        slatRemainder = slatCoverage - slatIndex;\n        return positions.tops[slatIndex] +\n            positions.getHeight(slatIndex) * slatRemainder;\n    };\n    return TimeColsSlatsCoords;\n}());\n\nvar TimeColsSlatsBody = /** @class */ (function (_super) {\n    __extends(TimeColsSlatsBody, _super);\n    function TimeColsSlatsBody() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeColsSlatsBody.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var slatElRefs = props.slatElRefs;\n        return (createElement(\"tbody\", null, props.slatMetas.map(function (slatMeta, i) {\n            var hookProps = {\n                time: slatMeta.time,\n                date: context.dateEnv.toDate(slatMeta.date),\n                view: context.viewApi,\n            };\n            var classNames = [\n                'fc-timegrid-slot',\n                'fc-timegrid-slot-lane',\n                slatMeta.isLabeled ? '' : 'fc-timegrid-slot-minor',\n            ];\n            return (createElement(\"tr\", { key: slatMeta.key, ref: slatElRefs.createRef(slatMeta.key) },\n                props.axis && (createElement(TimeColsAxisCell, __assign({}, slatMeta))),\n                createElement(RenderHook, { hookProps: hookProps, classNames: options.slotLaneClassNames, content: options.slotLaneContent, didMount: options.slotLaneDidMount, willUnmount: options.slotLaneWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"td\", { ref: rootElRef, className: classNames.concat(customClassNames).join(' '), \"data-time\": slatMeta.isoTimeStr }, innerContent)); })));\n        })));\n    };\n    return TimeColsSlatsBody;\n}(BaseComponent));\n\n/*\nfor the horizontal \"slats\" that run width-wise. Has a time axis on a side. Depends on RTL.\n*/\nvar TimeColsSlats = /** @class */ (function (_super) {\n    __extends(TimeColsSlats, _super);\n    function TimeColsSlats() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        _this.slatElRefs = new RefMap();\n        return _this;\n    }\n    TimeColsSlats.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        return (createElement(\"div\", { className: \"fc-timegrid-slots\", ref: this.rootElRef },\n            createElement(\"table\", { className: context.theme.getClass('table'), style: {\n                    minWidth: props.tableMinWidth,\n                    width: props.clientWidth,\n                    height: props.minHeight,\n                } },\n                props.tableColGroupNode /* relies on there only being a single <col> for the axis */,\n                createElement(TimeColsSlatsBody, { slatElRefs: this.slatElRefs, axis: props.axis, slatMetas: props.slatMetas }))));\n    };\n    TimeColsSlats.prototype.componentDidMount = function () {\n        this.updateSizing();\n    };\n    TimeColsSlats.prototype.componentDidUpdate = function () {\n        this.updateSizing();\n    };\n    TimeColsSlats.prototype.componentWillUnmount = function () {\n        if (this.props.onCoords) {\n            this.props.onCoords(null);\n        }\n    };\n    TimeColsSlats.prototype.updateSizing = function () {\n        var _a = this, context = _a.context, props = _a.props;\n        if (props.onCoords &&\n            props.clientWidth !== null // means sizing has stabilized\n        ) {\n            var rootEl = this.rootElRef.current;\n            if (rootEl.offsetHeight) { // not hidden by css\n                props.onCoords(new TimeColsSlatsCoords(new PositionCache(this.rootElRef.current, collectSlatEls(this.slatElRefs.currentMap, props.slatMetas), false, true), this.props.dateProfile, context.options.slotDuration));\n            }\n        }\n    };\n    return TimeColsSlats;\n}(BaseComponent));\nfunction collectSlatEls(elMap, slatMetas) {\n    return slatMetas.map(function (slatMeta) { return elMap[slatMeta.key]; });\n}\n\nfunction splitSegsByCol(segs, colCnt) {\n    var segsByCol = [];\n    var i;\n    for (i = 0; i < colCnt; i += 1) {\n        segsByCol.push([]);\n    }\n    if (segs) {\n        for (i = 0; i < segs.length; i += 1) {\n            segsByCol[segs[i].col].push(segs[i]);\n        }\n    }\n    return segsByCol;\n}\nfunction splitInteractionByCol(ui, colCnt) {\n    var byRow = [];\n    if (!ui) {\n        for (var i = 0; i < colCnt; i += 1) {\n            byRow[i] = null;\n        }\n    }\n    else {\n        for (var i = 0; i < colCnt; i += 1) {\n            byRow[i] = {\n                affectedInstances: ui.affectedInstances,\n                isEvent: ui.isEvent,\n                segs: [],\n            };\n        }\n        for (var _i = 0, _a = ui.segs; _i < _a.length; _i++) {\n            var seg = _a[_i];\n            byRow[seg.col].segs.push(seg);\n        }\n    }\n    return byRow;\n}\n\nvar TimeColMoreLink = /** @class */ (function (_super) {\n    __extends(TimeColMoreLink, _super);\n    function TimeColMoreLink() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        return _this;\n    }\n    TimeColMoreLink.prototype.render = function () {\n        var _this = this;\n        var props = this.props;\n        return (createElement(MoreLinkRoot, { allDayDate: null, moreCnt: props.hiddenSegs.length, allSegs: props.hiddenSegs, hiddenSegs: props.hiddenSegs, alignmentElRef: this.rootElRef, defaultContent: renderMoreLinkInner, extraDateSpan: props.extraDateSpan, dateProfile: props.dateProfile, todayRange: props.todayRange, popoverContent: function () { return renderPlainFgSegs(props.hiddenSegs, props); } }, function (rootElRef, classNames, innerElRef, innerContent, handleClick) { return (createElement(\"a\", { ref: function (el) {\n                setRef(rootElRef, el);\n                setRef(_this.rootElRef, el);\n            }, className: ['fc-timegrid-more-link'].concat(classNames).join(' '), style: { top: props.top, bottom: props.bottom }, onClick: handleClick },\n            createElement(\"div\", { ref: innerElRef, className: \"fc-timegrid-more-link-inner fc-sticky\" }, innerContent))); }));\n    };\n    return TimeColMoreLink;\n}(BaseComponent));\nfunction renderMoreLinkInner(props) {\n    return props.shortText;\n}\n\n// segInputs assumed sorted\nfunction buildPositioning(segInputs, strictOrder, maxStackCnt) {\n    var hierarchy = new SegHierarchy();\n    if (strictOrder != null) {\n        hierarchy.strictOrder = strictOrder;\n    }\n    if (maxStackCnt != null) {\n        hierarchy.maxStackCnt = maxStackCnt;\n    }\n    var hiddenEntries = hierarchy.addSegs(segInputs);\n    var hiddenGroups = groupIntersectingEntries(hiddenEntries);\n    var web = buildWeb(hierarchy);\n    web = stretchWeb(web, 1); // all levelCoords/thickness will have 0.0-1.0\n    var segRects = webToRects(web);\n    return { segRects: segRects, hiddenGroups: hiddenGroups };\n}\nfunction buildWeb(hierarchy) {\n    var entriesByLevel = hierarchy.entriesByLevel;\n    var buildNode = cacheable(function (level, lateral) { return level + ':' + lateral; }, function (level, lateral) {\n        var siblingRange = findNextLevelSegs(hierarchy, level, lateral);\n        var nextLevelRes = buildNodes(siblingRange, buildNode);\n        var entry = entriesByLevel[level][lateral];\n        return [\n            __assign(__assign({}, entry), { nextLevelNodes: nextLevelRes[0] }),\n            entry.thickness + nextLevelRes[1], // the pressure builds\n        ];\n    });\n    return buildNodes(entriesByLevel.length\n        ? { level: 0, lateralStart: 0, lateralEnd: entriesByLevel[0].length }\n        : null, buildNode)[0];\n}\nfunction buildNodes(siblingRange, buildNode) {\n    if (!siblingRange) {\n        return [[], 0];\n    }\n    var level = siblingRange.level, lateralStart = siblingRange.lateralStart, lateralEnd = siblingRange.lateralEnd;\n    var lateral = lateralStart;\n    var pairs = [];\n    while (lateral < lateralEnd) {\n        pairs.push(buildNode(level, lateral));\n        lateral += 1;\n    }\n    pairs.sort(cmpDescPressures);\n    return [\n        pairs.map(extractNode),\n        pairs[0][1], // first item's pressure\n    ];\n}\nfunction cmpDescPressures(a, b) {\n    return b[1] - a[1];\n}\nfunction extractNode(a) {\n    return a[0];\n}\nfunction findNextLevelSegs(hierarchy, subjectLevel, subjectLateral) {\n    var levelCoords = hierarchy.levelCoords, entriesByLevel = hierarchy.entriesByLevel;\n    var subjectEntry = entriesByLevel[subjectLevel][subjectLateral];\n    var afterSubject = levelCoords[subjectLevel] + subjectEntry.thickness;\n    var levelCnt = levelCoords.length;\n    var level = subjectLevel;\n    // skip past levels that are too high up\n    for (; level < levelCnt && levelCoords[level] < afterSubject; level += 1)\n        ; // do nothing\n    for (; level < levelCnt; level += 1) {\n        var entries = entriesByLevel[level];\n        var entry = void 0;\n        var searchIndex = binarySearch(entries, subjectEntry.span.start, getEntrySpanEnd);\n        var lateralStart = searchIndex[0] + searchIndex[1]; // if exact match (which doesn't collide), go to next one\n        var lateralEnd = lateralStart;\n        while ( // loop through entries that horizontally intersect\n        (entry = entries[lateralEnd]) && // but not past the whole seg list\n            entry.span.start < subjectEntry.span.end) {\n            lateralEnd += 1;\n        }\n        if (lateralStart < lateralEnd) {\n            return { level: level, lateralStart: lateralStart, lateralEnd: lateralEnd };\n        }\n    }\n    return null;\n}\nfunction stretchWeb(topLevelNodes, totalThickness) {\n    var stretchNode = cacheable(function (node, startCoord, prevThickness) { return buildEntryKey(node); }, function (node, startCoord, prevThickness) {\n        var nextLevelNodes = node.nextLevelNodes, thickness = node.thickness;\n        var allThickness = thickness + prevThickness;\n        var thicknessFraction = thickness / allThickness;\n        var endCoord;\n        var newChildren = [];\n        if (!nextLevelNodes.length) {\n            endCoord = totalThickness;\n        }\n        else {\n            for (var _i = 0, nextLevelNodes_1 = nextLevelNodes; _i < nextLevelNodes_1.length; _i++) {\n                var childNode = nextLevelNodes_1[_i];\n                if (endCoord === undefined) {\n                    var res = stretchNode(childNode, startCoord, allThickness);\n                    endCoord = res[0];\n                    newChildren.push(res[1]);\n                }\n                else {\n                    var res = stretchNode(childNode, endCoord, 0);\n                    newChildren.push(res[1]);\n                }\n            }\n        }\n        var newThickness = (endCoord - startCoord) * thicknessFraction;\n        return [endCoord - newThickness, __assign(__assign({}, node), { thickness: newThickness, nextLevelNodes: newChildren })];\n    });\n    return topLevelNodes.map(function (node) { return stretchNode(node, 0, 0)[1]; });\n}\n// not sorted in any particular order\nfunction webToRects(topLevelNodes) {\n    var rects = [];\n    var processNode = cacheable(function (node, levelCoord, stackDepth) { return buildEntryKey(node); }, function (node, levelCoord, stackDepth) {\n        var rect = __assign(__assign({}, node), { levelCoord: levelCoord,\n            stackDepth: stackDepth, stackForward: 0 });\n        rects.push(rect);\n        return (rect.stackForward = processNodes(node.nextLevelNodes, levelCoord + node.thickness, stackDepth + 1) + 1);\n    });\n    function processNodes(nodes, levelCoord, stackDepth) {\n        var stackForward = 0;\n        for (var _i = 0, nodes_1 = nodes; _i < nodes_1.length; _i++) {\n            var node = nodes_1[_i];\n            stackForward = Math.max(processNode(node, levelCoord, stackDepth), stackForward);\n        }\n        return stackForward;\n    }\n    processNodes(topLevelNodes, 0, 0);\n    return rects; // TODO: sort rects by levelCoord to be consistent with toRects?\n}\n// TODO: move to general util\nfunction cacheable(keyFunc, workFunc) {\n    var cache = {};\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var key = keyFunc.apply(void 0, args);\n        return (key in cache)\n            ? cache[key]\n            : (cache[key] = workFunc.apply(void 0, args));\n    };\n}\n\nfunction computeSegVCoords(segs, colDate, slatCoords, eventMinHeight) {\n    if (slatCoords === void 0) { slatCoords = null; }\n    if (eventMinHeight === void 0) { eventMinHeight = 0; }\n    var vcoords = [];\n    if (slatCoords) {\n        for (var i = 0; i < segs.length; i += 1) {\n            var seg = segs[i];\n            var spanStart = slatCoords.computeDateTop(seg.start, colDate);\n            var spanEnd = Math.max(spanStart + (eventMinHeight || 0), // :(\n            slatCoords.computeDateTop(seg.end, colDate));\n            vcoords.push({\n                start: Math.round(spanStart),\n                end: Math.round(spanEnd), //\n            });\n        }\n    }\n    return vcoords;\n}\nfunction computeFgSegPlacements(segs, segVCoords, // might not have for every seg\neventOrderStrict, eventMaxStack) {\n    var segInputs = [];\n    var dumbSegs = []; // segs without coords\n    for (var i = 0; i < segs.length; i += 1) {\n        var vcoords = segVCoords[i];\n        if (vcoords) {\n            segInputs.push({\n                index: i,\n                thickness: 1,\n                span: vcoords,\n            });\n        }\n        else {\n            dumbSegs.push(segs[i]);\n        }\n    }\n    var _a = buildPositioning(segInputs, eventOrderStrict, eventMaxStack), segRects = _a.segRects, hiddenGroups = _a.hiddenGroups;\n    var segPlacements = [];\n    for (var _i = 0, segRects_1 = segRects; _i < segRects_1.length; _i++) {\n        var segRect = segRects_1[_i];\n        segPlacements.push({\n            seg: segs[segRect.index],\n            rect: segRect,\n        });\n    }\n    for (var _b = 0, dumbSegs_1 = dumbSegs; _b < dumbSegs_1.length; _b++) {\n        var dumbSeg = dumbSegs_1[_b];\n        segPlacements.push({ seg: dumbSeg, rect: null });\n    }\n    return { segPlacements: segPlacements, hiddenGroups: hiddenGroups };\n}\n\nvar DEFAULT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    meridiem: false,\n});\nvar TimeColEvent = /** @class */ (function (_super) {\n    __extends(TimeColEvent, _super);\n    function TimeColEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeColEvent.prototype.render = function () {\n        var classNames = [\n            'fc-timegrid-event',\n            'fc-v-event',\n        ];\n        if (this.props.isShort) {\n            classNames.push('fc-timegrid-event-short');\n        }\n        return (createElement(StandardEvent, __assign({}, this.props, { defaultTimeFormat: DEFAULT_TIME_FORMAT, extraClassNames: classNames })));\n    };\n    return TimeColEvent;\n}(BaseComponent));\n\nvar TimeColMisc = /** @class */ (function (_super) {\n    __extends(TimeColMisc, _super);\n    function TimeColMisc() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeColMisc.prototype.render = function () {\n        var props = this.props;\n        return (createElement(DayCellContent, { date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, extraHookProps: props.extraHookProps }, function (innerElRef, innerContent) { return (innerContent &&\n            createElement(\"div\", { className: \"fc-timegrid-col-misc\", ref: innerElRef }, innerContent)); }));\n    };\n    return TimeColMisc;\n}(BaseComponent));\n\nvar TimeCol = /** @class */ (function (_super) {\n    __extends(TimeCol, _super);\n    function TimeCol() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.sortEventSegs = memoize(sortEventSegs);\n        return _this;\n    }\n    // TODO: memoize event-placement?\n    TimeCol.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, context = _a.context;\n        var isSelectMirror = context.options.selectMirror;\n        var mirrorSegs = (props.eventDrag && props.eventDrag.segs) ||\n            (props.eventResize && props.eventResize.segs) ||\n            (isSelectMirror && props.dateSelectionSegs) ||\n            [];\n        var interactionAffectedInstances = // TODO: messy way to compute this\n         (props.eventDrag && props.eventDrag.affectedInstances) ||\n            (props.eventResize && props.eventResize.affectedInstances) ||\n            {};\n        var sortedFgSegs = this.sortEventSegs(props.fgEventSegs, context.options.eventOrder);\n        return (createElement(DayCellRoot, { elRef: props.elRef, date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, extraHookProps: props.extraHookProps }, function (rootElRef, classNames, dataAttrs) { return (createElement(\"td\", __assign({ ref: rootElRef, className: ['fc-timegrid-col'].concat(classNames, props.extraClassNames || []).join(' ') }, dataAttrs, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-timegrid-col-frame\" },\n                createElement(\"div\", { className: \"fc-timegrid-col-bg\" },\n                    _this.renderFillSegs(props.businessHourSegs, 'non-business'),\n                    _this.renderFillSegs(props.bgEventSegs, 'bg-event'),\n                    _this.renderFillSegs(props.dateSelectionSegs, 'highlight')),\n                createElement(\"div\", { className: \"fc-timegrid-col-events\" }, _this.renderFgSegs(sortedFgSegs, interactionAffectedInstances, false, false, false)),\n                createElement(\"div\", { className: \"fc-timegrid-col-events\" }, _this.renderFgSegs(mirrorSegs, {}, Boolean(props.eventDrag), Boolean(props.eventResize), Boolean(isSelectMirror))),\n                createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" }, _this.renderNowIndicator(props.nowIndicatorSegs)),\n                createElement(TimeColMisc, { date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, extraHookProps: props.extraHookProps })))); }));\n    };\n    TimeCol.prototype.renderFgSegs = function (sortedFgSegs, segIsInvisible, isDragging, isResizing, isDateSelecting) {\n        var props = this.props;\n        if (props.forPrint) {\n            return renderPlainFgSegs(sortedFgSegs, props);\n        }\n        return this.renderPositionedFgSegs(sortedFgSegs, segIsInvisible, isDragging, isResizing, isDateSelecting);\n    };\n    TimeCol.prototype.renderPositionedFgSegs = function (segs, // if not mirror, needs to be sorted\n    segIsInvisible, isDragging, isResizing, isDateSelecting) {\n        var _this = this;\n        var _a = this.context.options, eventMaxStack = _a.eventMaxStack, eventShortHeight = _a.eventShortHeight, eventOrderStrict = _a.eventOrderStrict, eventMinHeight = _a.eventMinHeight;\n        var _b = this.props, date = _b.date, slatCoords = _b.slatCoords, eventSelection = _b.eventSelection, todayRange = _b.todayRange, nowDate = _b.nowDate;\n        var isMirror = isDragging || isResizing || isDateSelecting;\n        var segVCoords = computeSegVCoords(segs, date, slatCoords, eventMinHeight);\n        var _c = computeFgSegPlacements(segs, segVCoords, eventOrderStrict, eventMaxStack), segPlacements = _c.segPlacements, hiddenGroups = _c.hiddenGroups;\n        return (createElement(Fragment, null,\n            this.renderHiddenGroups(hiddenGroups, segs),\n            segPlacements.map(function (segPlacement) {\n                var seg = segPlacement.seg, rect = segPlacement.rect;\n                var instanceId = seg.eventRange.instance.instanceId;\n                var isVisible = isMirror || Boolean(!segIsInvisible[instanceId] && rect);\n                var vStyle = computeSegVStyle(rect && rect.span);\n                var hStyle = (!isMirror && rect) ? _this.computeSegHStyle(rect) : { left: 0, right: 0 };\n                var isInset = Boolean(rect) && rect.stackForward > 0;\n                var isShort = Boolean(rect) && (rect.span.end - rect.span.start) < eventShortHeight; // look at other places for this problem\n                return (createElement(\"div\", { className: 'fc-timegrid-event-harness' +\n                        (isInset ? ' fc-timegrid-event-harness-inset' : ''), key: instanceId, style: __assign(__assign({ visibility: isVisible ? '' : 'hidden' }, vStyle), hStyle) },\n                    createElement(TimeColEvent, __assign({ seg: seg, isDragging: isDragging, isResizing: isResizing, isDateSelecting: isDateSelecting, isSelected: instanceId === eventSelection, isShort: isShort }, getSegMeta(seg, todayRange, nowDate)))));\n            })));\n    };\n    // will already have eventMinHeight applied because segInputs already had it\n    TimeCol.prototype.renderHiddenGroups = function (hiddenGroups, segs) {\n        var _a = this.props, extraDateSpan = _a.extraDateSpan, dateProfile = _a.dateProfile, todayRange = _a.todayRange, nowDate = _a.nowDate, eventSelection = _a.eventSelection, eventDrag = _a.eventDrag, eventResize = _a.eventResize;\n        return (createElement(Fragment, null, hiddenGroups.map(function (hiddenGroup) {\n            var positionCss = computeSegVStyle(hiddenGroup.span);\n            var hiddenSegs = compileSegsFromEntries(hiddenGroup.entries, segs);\n            return (createElement(TimeColMoreLink, { key: buildIsoString(computeEarliestSegStart(hiddenSegs)), hiddenSegs: hiddenSegs, top: positionCss.top, bottom: positionCss.bottom, extraDateSpan: extraDateSpan, dateProfile: dateProfile, todayRange: todayRange, nowDate: nowDate, eventSelection: eventSelection, eventDrag: eventDrag, eventResize: eventResize }));\n        })));\n    };\n    TimeCol.prototype.renderFillSegs = function (segs, fillType) {\n        var _a = this, props = _a.props, context = _a.context;\n        var segVCoords = computeSegVCoords(segs, props.date, props.slatCoords, context.options.eventMinHeight); // don't assume all populated\n        var children = segVCoords.map(function (vcoords, i) {\n            var seg = segs[i];\n            return (createElement(\"div\", { key: buildEventRangeKey(seg.eventRange), className: \"fc-timegrid-bg-harness\", style: computeSegVStyle(vcoords) }, fillType === 'bg-event' ?\n                createElement(BgEvent, __assign({ seg: seg }, getSegMeta(seg, props.todayRange, props.nowDate))) :\n                renderFill(fillType)));\n        });\n        return createElement(Fragment, null, children);\n    };\n    TimeCol.prototype.renderNowIndicator = function (segs) {\n        var _a = this.props, slatCoords = _a.slatCoords, date = _a.date;\n        if (!slatCoords) {\n            return null;\n        }\n        return segs.map(function (seg, i) { return (createElement(NowIndicatorRoot, { isAxis: false, date: date, \n            // key doesn't matter. will only ever be one\n            key: i }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-timegrid-now-indicator-line'].concat(classNames).join(' '), style: { top: slatCoords.computeDateTop(seg.start, date) } }, innerContent)); })); });\n    };\n    TimeCol.prototype.computeSegHStyle = function (segHCoords) {\n        var _a = this.context, isRtl = _a.isRtl, options = _a.options;\n        var shouldOverlap = options.slotEventOverlap;\n        var nearCoord = segHCoords.levelCoord; // the left side if LTR. the right side if RTL. floating-point\n        var farCoord = segHCoords.levelCoord + segHCoords.thickness; // the right side if LTR. the left side if RTL. floating-point\n        var left; // amount of space from left edge, a fraction of the total width\n        var right; // amount of space from right edge, a fraction of the total width\n        if (shouldOverlap) {\n            // double the width, but don't go beyond the maximum forward coordinate (1.0)\n            farCoord = Math.min(1, nearCoord + (farCoord - nearCoord) * 2);\n        }\n        if (isRtl) {\n            left = 1 - farCoord;\n            right = nearCoord;\n        }\n        else {\n            left = nearCoord;\n            right = 1 - farCoord;\n        }\n        var props = {\n            zIndex: segHCoords.stackDepth + 1,\n            left: left * 100 + '%',\n            right: right * 100 + '%',\n        };\n        if (shouldOverlap && !segHCoords.stackForward) {\n            // add padding to the edge so that forward stacked events don't cover the resizer's icon\n            props[isRtl ? 'marginLeft' : 'marginRight'] = 10 * 2; // 10 is a guesstimate of the icon's width\n        }\n        return props;\n    };\n    return TimeCol;\n}(BaseComponent));\nfunction renderPlainFgSegs(sortedFgSegs, _a) {\n    var todayRange = _a.todayRange, nowDate = _a.nowDate, eventSelection = _a.eventSelection, eventDrag = _a.eventDrag, eventResize = _a.eventResize;\n    var hiddenInstances = (eventDrag ? eventDrag.affectedInstances : null) ||\n        (eventResize ? eventResize.affectedInstances : null) ||\n        {};\n    return (createElement(Fragment, null, sortedFgSegs.map(function (seg) {\n        var instanceId = seg.eventRange.instance.instanceId;\n        return (createElement(\"div\", { key: instanceId, style: { visibility: hiddenInstances[instanceId] ? 'hidden' : '' } },\n            createElement(TimeColEvent, __assign({ seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: instanceId === eventSelection, isShort: false }, getSegMeta(seg, todayRange, nowDate)))));\n    })));\n}\nfunction computeSegVStyle(segVCoords) {\n    if (!segVCoords) {\n        return { top: '', bottom: '' };\n    }\n    return {\n        top: segVCoords.start,\n        bottom: -segVCoords.end,\n    };\n}\nfunction compileSegsFromEntries(segEntries, allSegs) {\n    return segEntries.map(function (segEntry) { return allSegs[segEntry.index]; });\n}\n\nvar TimeColsContent = /** @class */ (function (_super) {\n    __extends(TimeColsContent, _super);\n    function TimeColsContent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.splitFgEventSegs = memoize(splitSegsByCol);\n        _this.splitBgEventSegs = memoize(splitSegsByCol);\n        _this.splitBusinessHourSegs = memoize(splitSegsByCol);\n        _this.splitNowIndicatorSegs = memoize(splitSegsByCol);\n        _this.splitDateSelectionSegs = memoize(splitSegsByCol);\n        _this.splitEventDrag = memoize(splitInteractionByCol);\n        _this.splitEventResize = memoize(splitInteractionByCol);\n        _this.rootElRef = createRef();\n        _this.cellElRefs = new RefMap();\n        return _this;\n    }\n    TimeColsContent.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, context = _a.context;\n        var nowIndicatorTop = context.options.nowIndicator &&\n            props.slatCoords &&\n            props.slatCoords.safeComputeTop(props.nowDate); // might return void\n        var colCnt = props.cells.length;\n        var fgEventSegsByRow = this.splitFgEventSegs(props.fgEventSegs, colCnt);\n        var bgEventSegsByRow = this.splitBgEventSegs(props.bgEventSegs, colCnt);\n        var businessHourSegsByRow = this.splitBusinessHourSegs(props.businessHourSegs, colCnt);\n        var nowIndicatorSegsByRow = this.splitNowIndicatorSegs(props.nowIndicatorSegs, colCnt);\n        var dateSelectionSegsByRow = this.splitDateSelectionSegs(props.dateSelectionSegs, colCnt);\n        var eventDragByRow = this.splitEventDrag(props.eventDrag, colCnt);\n        var eventResizeByRow = this.splitEventResize(props.eventResize, colCnt);\n        return (createElement(\"div\", { className: \"fc-timegrid-cols\", ref: this.rootElRef },\n            createElement(\"table\", { style: {\n                    minWidth: props.tableMinWidth,\n                    width: props.clientWidth,\n                } },\n                props.tableColGroupNode,\n                createElement(\"tbody\", null,\n                    createElement(\"tr\", null,\n                        props.axis && (createElement(\"td\", { className: \"fc-timegrid-col fc-timegrid-axis\" },\n                            createElement(\"div\", { className: \"fc-timegrid-col-frame\" },\n                                createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" }, typeof nowIndicatorTop === 'number' && (createElement(NowIndicatorRoot, { isAxis: true, date: props.nowDate }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-timegrid-now-indicator-arrow'].concat(classNames).join(' '), style: { top: nowIndicatorTop } }, innerContent)); })))))),\n                        props.cells.map(function (cell, i) { return (createElement(TimeCol, { key: cell.key, elRef: _this.cellElRefs.createRef(cell.key), dateProfile: props.dateProfile, date: cell.date, nowDate: props.nowDate, todayRange: props.todayRange, extraHookProps: cell.extraHookProps, extraDataAttrs: cell.extraDataAttrs, extraClassNames: cell.extraClassNames, extraDateSpan: cell.extraDateSpan, fgEventSegs: fgEventSegsByRow[i], bgEventSegs: bgEventSegsByRow[i], businessHourSegs: businessHourSegsByRow[i], nowIndicatorSegs: nowIndicatorSegsByRow[i], dateSelectionSegs: dateSelectionSegsByRow[i], eventDrag: eventDragByRow[i], eventResize: eventResizeByRow[i], slatCoords: props.slatCoords, eventSelection: props.eventSelection, forPrint: props.forPrint })); }))))));\n    };\n    TimeColsContent.prototype.componentDidMount = function () {\n        this.updateCoords();\n    };\n    TimeColsContent.prototype.componentDidUpdate = function () {\n        this.updateCoords();\n    };\n    TimeColsContent.prototype.updateCoords = function () {\n        var props = this.props;\n        if (props.onColCoords &&\n            props.clientWidth !== null // means sizing has stabilized\n        ) {\n            props.onColCoords(new PositionCache(this.rootElRef.current, collectCellEls(this.cellElRefs.currentMap, props.cells), true, // horizontal\n            false));\n        }\n    };\n    return TimeColsContent;\n}(BaseComponent));\nfunction collectCellEls(elMap, cells) {\n    return cells.map(function (cell) { return elMap[cell.key]; });\n}\n\n/* A component that renders one or more columns of vertical time slots\n----------------------------------------------------------------------------------------------------------------------*/\nvar TimeCols = /** @class */ (function (_super) {\n    __extends(TimeCols, _super);\n    function TimeCols() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.processSlotOptions = memoize(processSlotOptions);\n        _this.state = {\n            slatCoords: null,\n        };\n        _this.handleRootEl = function (el) {\n            if (el) {\n                _this.context.registerInteractiveComponent(_this, {\n                    el: el,\n                    isHitComboAllowed: _this.props.isHitComboAllowed,\n                });\n            }\n            else {\n                _this.context.unregisterInteractiveComponent(_this);\n            }\n        };\n        _this.handleScrollRequest = function (request) {\n            var onScrollTopRequest = _this.props.onScrollTopRequest;\n            var slatCoords = _this.state.slatCoords;\n            if (onScrollTopRequest && slatCoords) {\n                if (request.time) {\n                    var top_1 = slatCoords.computeTimeTop(request.time);\n                    top_1 = Math.ceil(top_1); // zoom can give weird floating-point values. rather scroll a little bit further\n                    if (top_1) {\n                        top_1 += 1; // to overcome top border that slots beyond the first have. looks better\n                    }\n                    onScrollTopRequest(top_1);\n                }\n                return true;\n            }\n            return false;\n        };\n        _this.handleColCoords = function (colCoords) {\n            _this.colCoords = colCoords;\n        };\n        _this.handleSlatCoords = function (slatCoords) {\n            _this.setState({ slatCoords: slatCoords });\n            if (_this.props.onSlatCoords) {\n                _this.props.onSlatCoords(slatCoords);\n            }\n        };\n        return _this;\n    }\n    TimeCols.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        return (createElement(\"div\", { className: \"fc-timegrid-body\", ref: this.handleRootEl, style: {\n                // these props are important to give this wrapper correct dimensions for interactions\n                // TODO: if we set it here, can we avoid giving to inner tables?\n                width: props.clientWidth,\n                minWidth: props.tableMinWidth,\n            } },\n            createElement(TimeColsSlats, { axis: props.axis, dateProfile: props.dateProfile, slatMetas: props.slatMetas, clientWidth: props.clientWidth, minHeight: props.expandRows ? props.clientHeight : '', tableMinWidth: props.tableMinWidth, tableColGroupNode: props.axis ? props.tableColGroupNode : null /* axis depends on the colgroup's shrinking */, onCoords: this.handleSlatCoords }),\n            createElement(TimeColsContent, { cells: props.cells, axis: props.axis, dateProfile: props.dateProfile, businessHourSegs: props.businessHourSegs, bgEventSegs: props.bgEventSegs, fgEventSegs: props.fgEventSegs, dateSelectionSegs: props.dateSelectionSegs, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, todayRange: props.todayRange, nowDate: props.nowDate, nowIndicatorSegs: props.nowIndicatorSegs, clientWidth: props.clientWidth, tableMinWidth: props.tableMinWidth, tableColGroupNode: props.tableColGroupNode, slatCoords: state.slatCoords, onColCoords: this.handleColCoords, forPrint: props.forPrint })));\n    };\n    TimeCols.prototype.componentDidMount = function () {\n        this.scrollResponder = this.context.createScrollResponder(this.handleScrollRequest);\n    };\n    TimeCols.prototype.componentDidUpdate = function (prevProps) {\n        this.scrollResponder.update(prevProps.dateProfile !== this.props.dateProfile);\n    };\n    TimeCols.prototype.componentWillUnmount = function () {\n        this.scrollResponder.detach();\n    };\n    TimeCols.prototype.queryHit = function (positionLeft, positionTop) {\n        var _a = this.context, dateEnv = _a.dateEnv, options = _a.options;\n        var colCoords = this.colCoords;\n        var dateProfile = this.props.dateProfile;\n        var slatCoords = this.state.slatCoords;\n        var _b = this.processSlotOptions(this.props.slotDuration, options.snapDuration), snapDuration = _b.snapDuration, snapsPerSlot = _b.snapsPerSlot;\n        var colIndex = colCoords.leftToIndex(positionLeft);\n        var slatIndex = slatCoords.positions.topToIndex(positionTop);\n        if (colIndex != null && slatIndex != null) {\n            var cell = this.props.cells[colIndex];\n            var slatTop = slatCoords.positions.tops[slatIndex];\n            var slatHeight = slatCoords.positions.getHeight(slatIndex);\n            var partial = (positionTop - slatTop) / slatHeight; // floating point number between 0 and 1\n            var localSnapIndex = Math.floor(partial * snapsPerSlot); // the snap # relative to start of slat\n            var snapIndex = slatIndex * snapsPerSlot + localSnapIndex;\n            var dayDate = this.props.cells[colIndex].date;\n            var time = addDurations(dateProfile.slotMinTime, multiplyDuration(snapDuration, snapIndex));\n            var start = dateEnv.add(dayDate, time);\n            var end = dateEnv.add(start, snapDuration);\n            return {\n                dateProfile: dateProfile,\n                dateSpan: __assign({ range: { start: start, end: end }, allDay: false }, cell.extraDateSpan),\n                dayEl: colCoords.els[colIndex],\n                rect: {\n                    left: colCoords.lefts[colIndex],\n                    right: colCoords.rights[colIndex],\n                    top: slatTop,\n                    bottom: slatTop + slatHeight,\n                },\n                layer: 0,\n            };\n        }\n        return null;\n    };\n    return TimeCols;\n}(DateComponent));\nfunction processSlotOptions(slotDuration, snapDurationOverride) {\n    var snapDuration = snapDurationOverride || slotDuration;\n    var snapsPerSlot = wholeDivideDurations(slotDuration, snapDuration);\n    if (snapsPerSlot === null) {\n        snapDuration = slotDuration;\n        snapsPerSlot = 1;\n        // TODO: say warning?\n    }\n    return { snapDuration: snapDuration, snapsPerSlot: snapsPerSlot };\n}\n\nvar DayTimeColsSlicer = /** @class */ (function (_super) {\n    __extends(DayTimeColsSlicer, _super);\n    function DayTimeColsSlicer() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DayTimeColsSlicer.prototype.sliceRange = function (range, dayRanges) {\n        var segs = [];\n        for (var col = 0; col < dayRanges.length; col += 1) {\n            var segRange = intersectRanges(range, dayRanges[col]);\n            if (segRange) {\n                segs.push({\n                    start: segRange.start,\n                    end: segRange.end,\n                    isStart: segRange.start.valueOf() === range.start.valueOf(),\n                    isEnd: segRange.end.valueOf() === range.end.valueOf(),\n                    col: col,\n                });\n            }\n        }\n        return segs;\n    };\n    return DayTimeColsSlicer;\n}(Slicer));\n\nvar DayTimeCols = /** @class */ (function (_super) {\n    __extends(DayTimeCols, _super);\n    function DayTimeCols() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildDayRanges = memoize(buildDayRanges);\n        _this.slicer = new DayTimeColsSlicer();\n        _this.timeColsRef = createRef();\n        return _this;\n    }\n    DayTimeCols.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, context = _a.context;\n        var dateProfile = props.dateProfile, dayTableModel = props.dayTableModel;\n        var isNowIndicator = context.options.nowIndicator;\n        var dayRanges = this.buildDayRanges(dayTableModel, dateProfile, context.dateEnv);\n        // give it the first row of cells\n        // TODO: would move this further down hierarchy, but sliceNowDate needs it\n        return (createElement(NowTimer, { unit: isNowIndicator ? 'minute' : 'day' }, function (nowDate, todayRange) { return (createElement(TimeCols, __assign({ ref: _this.timeColsRef }, _this.slicer.sliceProps(props, dateProfile, null, context, dayRanges), { forPrint: props.forPrint, axis: props.axis, dateProfile: dateProfile, slatMetas: props.slatMetas, slotDuration: props.slotDuration, cells: dayTableModel.cells[0], tableColGroupNode: props.tableColGroupNode, tableMinWidth: props.tableMinWidth, clientWidth: props.clientWidth, clientHeight: props.clientHeight, expandRows: props.expandRows, nowDate: nowDate, nowIndicatorSegs: isNowIndicator && _this.slicer.sliceNowDate(nowDate, context, dayRanges), todayRange: todayRange, onScrollTopRequest: props.onScrollTopRequest, onSlatCoords: props.onSlatCoords }))); }));\n    };\n    return DayTimeCols;\n}(DateComponent));\nfunction buildDayRanges(dayTableModel, dateProfile, dateEnv) {\n    var ranges = [];\n    for (var _i = 0, _a = dayTableModel.headerDates; _i < _a.length; _i++) {\n        var date = _a[_i];\n        ranges.push({\n            start: dateEnv.add(date, dateProfile.slotMinTime),\n            end: dateEnv.add(date, dateProfile.slotMaxTime),\n        });\n    }\n    return ranges;\n}\n\n// potential nice values for the slot-duration and interval-duration\n// from largest to smallest\nvar STOCK_SUB_DURATIONS = [\n    { hours: 1 },\n    { minutes: 30 },\n    { minutes: 15 },\n    { seconds: 30 },\n    { seconds: 15 },\n];\nfunction buildSlatMetas(slotMinTime, slotMaxTime, explicitLabelInterval, slotDuration, dateEnv) {\n    var dayStart = new Date(0);\n    var slatTime = slotMinTime;\n    var slatIterator = createDuration(0);\n    var labelInterval = explicitLabelInterval || computeLabelInterval(slotDuration);\n    var metas = [];\n    while (asRoughMs(slatTime) < asRoughMs(slotMaxTime)) {\n        var date = dateEnv.add(dayStart, slatTime);\n        var isLabeled = wholeDivideDurations(slatIterator, labelInterval) !== null;\n        metas.push({\n            date: date,\n            time: slatTime,\n            key: date.toISOString(),\n            isoTimeStr: formatIsoTimeString(date),\n            isLabeled: isLabeled,\n        });\n        slatTime = addDurations(slatTime, slotDuration);\n        slatIterator = addDurations(slatIterator, slotDuration);\n    }\n    return metas;\n}\n// Computes an automatic value for slotLabelInterval\nfunction computeLabelInterval(slotDuration) {\n    var i;\n    var labelInterval;\n    var slotsPerLabel;\n    // find the smallest stock label interval that results in more than one slots-per-label\n    for (i = STOCK_SUB_DURATIONS.length - 1; i >= 0; i -= 1) {\n        labelInterval = createDuration(STOCK_SUB_DURATIONS[i]);\n        slotsPerLabel = wholeDivideDurations(labelInterval, slotDuration);\n        if (slotsPerLabel !== null && slotsPerLabel > 1) {\n            return labelInterval;\n        }\n    }\n    return slotDuration; // fall back\n}\n\nvar DayTimeColsView = /** @class */ (function (_super) {\n    __extends(DayTimeColsView, _super);\n    function DayTimeColsView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildTimeColsModel = memoize(buildTimeColsModel);\n        _this.buildSlatMetas = memoize(buildSlatMetas);\n        return _this;\n    }\n    DayTimeColsView.prototype.render = function () {\n        var _this = this;\n        var _a = this.context, options = _a.options, dateEnv = _a.dateEnv, dateProfileGenerator = _a.dateProfileGenerator;\n        var props = this.props;\n        var dateProfile = props.dateProfile;\n        var dayTableModel = this.buildTimeColsModel(dateProfile, dateProfileGenerator);\n        var splitProps = this.allDaySplitter.splitProps(props);\n        var slatMetas = this.buildSlatMetas(dateProfile.slotMinTime, dateProfile.slotMaxTime, options.slotLabelInterval, options.slotDuration, dateEnv);\n        var dayMinWidth = options.dayMinWidth;\n        var hasAttachedAxis = !dayMinWidth;\n        var hasDetachedAxis = dayMinWidth;\n        var headerContent = options.dayHeaders && (createElement(DayHeader, { dates: dayTableModel.headerDates, dateProfile: dateProfile, datesRepDistinctDays: true, renderIntro: hasAttachedAxis ? this.renderHeadAxis : null }));\n        var allDayContent = (options.allDaySlot !== false) && (function (contentArg) { return (createElement(DayTable, __assign({}, splitProps.allDay, { dateProfile: dateProfile, dayTableModel: dayTableModel, nextDayThreshold: options.nextDayThreshold, tableMinWidth: contentArg.tableMinWidth, colGroupNode: contentArg.tableColGroupNode, renderRowIntro: hasAttachedAxis ? _this.renderTableRowAxis : null, showWeekNumbers: false, expandRows: false, headerAlignElRef: _this.headerElRef, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, forPrint: props.forPrint }, _this.getAllDayMaxEventProps()))); });\n        var timeGridContent = function (contentArg) { return (createElement(DayTimeCols, __assign({}, splitProps.timed, { dayTableModel: dayTableModel, dateProfile: dateProfile, axis: hasAttachedAxis, slotDuration: options.slotDuration, slatMetas: slatMetas, forPrint: props.forPrint, tableColGroupNode: contentArg.tableColGroupNode, tableMinWidth: contentArg.tableMinWidth, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, onSlatCoords: _this.handleSlatCoords, expandRows: contentArg.expandRows, onScrollTopRequest: _this.handleScrollTopRequest }))); };\n        return hasDetachedAxis\n            ? this.renderHScrollLayout(headerContent, allDayContent, timeGridContent, dayTableModel.colCnt, dayMinWidth, slatMetas, this.state.slatCoords)\n            : this.renderSimpleLayout(headerContent, allDayContent, timeGridContent);\n    };\n    return DayTimeColsView;\n}(TimeColsView));\nfunction buildTimeColsModel(dateProfile, dateProfileGenerator) {\n    var daySeries = new DaySeriesModel(dateProfile.renderRange, dateProfileGenerator);\n    return new DayTableModel(daySeries, false);\n}\n\nvar OPTION_REFINERS = {\n    allDaySlot: Boolean,\n};\n\nvar main = createPlugin({\n    initialView: 'timeGridWeek',\n    optionRefiners: OPTION_REFINERS,\n    views: {\n        timeGrid: {\n            component: DayTimeColsView,\n            usesMinMaxTime: true,\n            allDaySlot: true,\n            slotDuration: '00:30:00',\n            slotEventOverlap: true, // a bad name. confused with overlap/constraint system\n        },\n        timeGridDay: {\n            type: 'timeGrid',\n            duration: { days: 1 },\n        },\n        timeGridWeek: {\n            type: 'timeGrid',\n            duration: { weeks: 1 },\n        },\n    },\n});\n\nexport default main;\nexport { DayTimeCols, DayTimeColsSlicer, DayTimeColsView, TimeCols, TimeColsSlatsCoords, TimeColsView, buildDayRanges, buildSlatMetas, buildTimeColsModel };\n//# sourceMappingURL=main.js.map\n","<template>\n  <div>\n    <base-header class=\"pb-6 content__title content__title--calendar\">\n      <div class=\"row align-items-center py-4\">\n        <div class=\"col-lg-6 col-7\">\n          <h6 class=\"h2 text-white d-inline-block mb-0\">{{ $route.name }}</h6>\n          <nav aria-label=\"breadcrumb\" class=\"d-none d-md-inline-block ml-md-4\">\n            <route-bread-crumb></route-bread-crumb>\n          </nav>\n        </div>\n        <div class=\"col-lg-6 mt-3 mt-lg-0 text-lg-right\">\n          <a\n            href=\"#\"\n            @click.prevent=\"prev\"\n            class=\"fullcalendar-btn-prev btn btn-sm btn-default\"\n          >\n            <i class=\"fas fa-angle-left\"></i>\n          </a>\n          <a\n            href=\"#\"\n            @click.prevent=\"next\"\n            class=\"fullcalendar-btn-next btn btn-sm btn-default\"\n          >\n            <i class=\"fas fa-angle-right\"></i>\n          </a>\n          <base-button\n            class=\"btn btn-sm btn-default\"\n            @click=\"changeView('dayGridMonth')\"\n          >\n            Month\n          </base-button>\n          <base-button\n            class=\"btn btn-sm btn-default\"\n            @click=\"changeView('dayGridWeek')\"\n          >\n            Week\n          </base-button>\n          <base-button\n            class=\"btn btn-sm btn-default\"\n            @click=\"changeView('timeGridDay')\"\n          >\n            Day\n          </base-button>\n        </div>\n      </div>\n    </base-header>\n\n    <div class=\"container-fluid mt--6\">\n      <div class=\"row\">\n        <div class=\"col\">\n          <!-- Fullcalendar -->\n          <div class=\"card card-calendar\">\n            <!-- Card header -->\n            <div class=\"card-header\">\n              <!-- Title -->\n              <h5 class=\"h3 mb-0\">Calendar</h5>\n            </div>\n            <!-- Card body -->\n            <div class=\"card-body p-0 card-calendar-body\">\n              <div id=\"fullCalendar\"></div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <modal :show.sync=\"showAddModal\" modal-classes=\"modal-secondary\">\n      <form class=\"new-event--form\" @submit.prevent=\"saveEvent\">\n        <base-input\n          name=\"title\"\n          label=\"Event title\"\n          placeholder=\"Event Title\"\n          v-model=\"model.title\"\n          input-classes=\"form-control-alternative new-event--title\"\n        >\n        </base-input>\n        <div class=\"form-group\">\n          <label class=\"form-control-label d-block mb-3\">Status color</label>\n          <div class=\"btn-group btn-group-toggle btn-group-colors event-tag\">\n            <label\n              v-for=\"color in eventColors\"\n              :key=\"color\"\n              class=\"btn\"\n              :class=\"[color, { 'active focused': model.className === color }]\"\n            >\n              <input\n                v-model=\"model.className\"\n                type=\"radio\"\n                name=\"event-tag\"\n                :value=\"color\"\n                autocomplete=\"off\"\n              />\n            </label>\n          </div>\n        </div>\n        <input type=\"hidden\" class=\"new-event--start\" />\n        <input type=\"hidden\" class=\"new-event--end\" />\n      </form>\n\n      <template v-slot:footer>\n        <button\n          type=\"submit\"\n          class=\"btn btn-primary new-event--add\"\n          @click=\"saveEvent\"\n        >\n          Add event\n        </button>\n        <button\n          type=\"button\"\n          class=\"btn btn-link ml-auto\"\n          @click=\"showAddModal = false\"\n        >\n          Close\n        </button>\n      </template>\n    </modal>\n\n    <modal :show.sync=\"showEditModal\" modal-classes=\"modal-secondary\">\n      <form class=\"edit-event--form\" @submit.prevent=\"editEvent\">\n        <base-input\n          name=\"title2\"\n          label=\"Event title\"\n          placeholder=\"Event Title\"\n          v-model=\"model.title\"\n          input-classes=\"form-control-alternative new-event--title\"\n        >\n        </base-input>\n        <div class=\"form-group\">\n          <label class=\"form-control-label d-block mb-3\">Status color</label>\n          <div class=\"btn-group btn-group-toggle btn-group-colors event-tag\">\n            <label\n              v-for=\"color in eventColors\"\n              :key=\"color\"\n              class=\"btn\"\n              :class=\"[color, { 'active focused': model.className === color }]\"\n            >\n              <input\n                v-model=\"model.className\"\n                type=\"radio\"\n                name=\"event-tag\"\n                :value=\"color\"\n                autocomplete=\"off\"\n              />\n            </label>\n          </div>\n        </div>\n        <base-input name=\"textarea\" label=\"Description\">\n          <textarea\n            v-model=\"model.description\"\n            class=\"form-control form-control-alternative edit-event--description textarea-autosize\"\n            placeholder=\"Event Desctiption\"\n          >\n          </textarea>\n          <i class=\"form-group--bar\"></i>\n        </base-input>\n        <input type=\"hidden\" class=\"new-event--start\" />\n        <input type=\"hidden\" class=\"new-event--end\" />\n      </form>\n\n      <template v-slot:footer>\n        <base-button\n          native-type=\"submit\"\n          type=\"primary\"\n          class=\"new-event--add\"\n          @click=\"editEvent\"\n          >Update</base-button\n        >\n        <base-button type=\"danger\" @click=\"deleteEvent\">Delete</base-button>\n        <base-button type=\"link\" class=\"ml-auto\" @click=\"showAddModal = false\"\n          >Close</base-button\n        >\n      </template>\n    </modal>\n  </div>\n</template>\n<script>\nimport Modal from \"@/components/Modal\";\nimport { Calendar } from \"@fullcalendar/core\";\nimport dayGridPlugin from \"@fullcalendar/daygrid\";\nimport interactionPlugin from \"@fullcalendar/interaction\";\nimport timeGridDay from \"@fullcalendar/timegrid\";\nimport RouteBreadCrumb from \"@/components/Breadcrumb/RouteBreadcrumb\";\n\nconst today = new Date();\nconst y = today.getFullYear();\nconst m = today.getMonth();\nconst d = today.getDate();\nvar calendar;\nexport default {\n  name: \"calendar\",\n  components: {\n    RouteBreadCrumb,\n    Modal,\n  },\n  data() {\n    return {\n      events: [\n        {\n          title: \"All Day Event\",\n          start: new Date(y, m, 1),\n          className: \"event-default\",\n        },\n        {\n          id: 999,\n          title: \"Repeating Event\",\n          start: new Date(y, m, d - 4, 6, 0),\n          allDay: false,\n          className: \"event-green\",\n        },\n        {\n          id: 999,\n          title: \"Repeating Event\",\n          start: new Date(y, m, d + 3, 6, 0),\n          allDay: false,\n          className: \"event-orange\",\n        },\n        {\n          title: \"Meeting\",\n          start: new Date(y, m, d - 1, 10, 30),\n          allDay: false,\n          className: \"event-green\",\n        },\n        {\n          title: \"Lunch\",\n          start: new Date(y, m, d + 7, 12, 0),\n          end: new Date(y, m, d + 7, 14, 0),\n          allDay: false,\n          className: \"event-red\",\n        },\n        {\n          title: \"Md-pro Launch\",\n          start: new Date(y, m, d - 2, 12, 0),\n          allDay: true,\n          className: \"event-azure\",\n        },\n        {\n          title: \"Birthday Party\",\n          start: new Date(y, m, d + 1, 19, 0),\n          end: new Date(y, m, d + 1, 22, 30),\n          allDay: false,\n          className: \"event-azure\",\n        },\n        {\n          title: \"Click for 嘉人有约\",\n          start: new Date(y, m, 21),\n          end: new Date(y, m, 22),\n          url: \"http://www.creative-tim.com/\",\n          className: \"event-orange\",\n        },\n        {\n          title: \"Click for Google\",\n          start: new Date(y, m, 21),\n          end: new Date(y, m, 22),\n          url: \"http://www.creative-tim.com/\",\n          className: \"event-orange\",\n        },\n      ],\n      model: {\n        title: \"New event\",\n        className: \"bg-default\",\n        description:\n          \"Nullam id dolor id nibh ultricies vehicula ut id elit. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.\",\n        start: \"\",\n        end: \"\",\n      },\n      showAddModal: false,\n      showEditModal: false,\n      eventColors: [\n        \"bg-info\",\n        \"bg-orange\",\n        \"bg-red\",\n        \"bg-green\",\n        \"bg-default\",\n        \"bg-blue\",\n        \"bg-purple\",\n        \"bg-yellow\",\n      ],\n    };\n  },\n  methods: {\n    initCalendar() {\n      var calendarEl = document.getElementById(\"fullCalendar\");\n\n      calendar = new Calendar(calendarEl, {\n        plugins: [dayGridPlugin, timeGridDay, interactionPlugin],\n        selectable: true,\n        headerToolbar: false,\n        select: () => {\n          this.showAddModal = true;\n          this.model.start = new Date(y, m, 21);\n          this.model.end = new Date(y, m, 21);\n        },\n        eventClick: () => {\n          this.model = {\n            title: event.title,\n            className: event.classNames ? event.classNames.join(\" \") : \"\",\n            start: event.start,\n            end: event.end,\n            description:\n              \"Nullam id dolor id nibh ultricies vehicula ut id elit. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.\",\n          };\n          this.showEditModal = true;\n        },\n        events: this.events,\n      });\n      calendar.render();\n    },\n    changeView(newView) {\n      calendar.changeView(newView);\n      calendar.view.title;\n    },\n    next() {\n      calendar.next();\n    },\n    prev() {\n      calendar.prev();\n    },\n    saveEvent() {\n      if (this.model.title) {\n        let event = {\n          ...this.model,\n          allDay: true,\n        };\n        this.events.push(JSON.parse(JSON.stringify(event)));\n        console.log(this.events);\n        this.model = {\n          title: \"\",\n          eventColor: \"bg-danger\",\n          start: \"\",\n          end: \"\",\n        };\n      }\n      this.showAddModal = false;\n    },\n    editEvent() {\n      let index = this.events.findIndex((e) => e.title === this.model.title);\n      if (index !== -1) {\n        this.events.splice(index, 1, this.model);\n      }\n      this.showEditModal = false;\n    },\n    deleteEvent() {\n      let index = this.events.findIndex((e) => e.title === this.model.title);\n      if (index !== -1) {\n        this.events.splice(index, 1);\n      }\n      this.showEditModal = false;\n    },\n  },\n  mounted() {\n    this.initCalendar();\n  },\n};\n</script>\n<style lang=\"scss\">\n@import \"~@/assets/sass/core/vendors/fullcalendar\";\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Calendar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Calendar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Calendar.vue?vue&type=template&id=68abcc02&\"\nimport script from \"./Calendar.vue?vue&type=script&lang=js&\"\nexport * from \"./Calendar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Calendar.vue?vue&type=style&index=0&id=68abcc02&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('base-header',{staticClass:\"pb-6\"},[_c('b-row',{staticClass:\"py-4\",attrs:{\"align-v\":\"center\"}},[_c('b-col',{attrs:{\"lg\":\"6\",\"cols\":\"7\"}},[_c('h6',{staticClass:\"h2 text-white d-inline-block mb-0\"},[_vm._v(_vm._s(_vm.$route.name))]),_c('nav',{staticClass:\"d-none d-md-inline-block ml-md-4\",attrs:{\"aria-label\":\"breadcrumb\"}},[_c('route-breadcrumb')],1)]),_c('b-col',{staticClass:\"text-right\",attrs:{\"lg\":\"6\",\"cols\":\"5\"}},[_c('base-button',{attrs:{\"size\":\"sm\",\"type\":\"neutral\"}},[_vm._v(\"New\")]),_c('base-button',{attrs:{\"size\":\"sm\",\"type\":\"neutral\"}},[_vm._v(\"Filters\")])],1)],1)],1),_c('b-container',{staticClass:\"mt--6\",attrs:{\"fluid\":\"\"}},[_c('b-row',[_c('b-col',[_c('b-card',{staticClass:\"border-0\",attrs:{\"no-body\":\"\"}},[_c('div',{staticClass:\"map-canvas\",staticStyle:{\"height\":\"600px\"},attrs:{\"id\":\"map\"}})])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// do not edit .js files directly - edit src/index.jst\n\n\n\nvar fastDeepEqual = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n\n/**\r\n * Copyright 2019 Google LLC. All Rights Reserved.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at.\r\n *\r\n *      Http://www.apache.org/licenses/LICENSE-2.0.\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nconst DEFAULT_ID = \"__googleMapsScriptId\";\r\n/**\r\n * [[Loader]] makes it easier to add Google Maps JavaScript API to your application\r\n * dynamically using\r\n * [Promises](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise).\r\n * It works by dynamically creating and appending a script node to the the\r\n * document head and wrapping the callback function so as to return a promise.\r\n *\r\n * ```\r\n * const loader = new Loader({\r\n *   apiKey: \"\",\r\n *   version: \"weekly\",\r\n *   libraries: [\"places\"]\r\n * });\r\n *\r\n * loader.load().then(() => {\r\n *   const map = new google.maps.Map(...)\r\n * })\r\n * ```\r\n */\r\nclass Loader {\r\n    /**\r\n     * Creates an instance of Loader using [[LoaderOptions]]. No defaults are set\r\n     * using this library, instead the defaults are set by the Google Maps\r\n     * JavaScript API server.\r\n     *\r\n     * ```\r\n     * const loader = Loader({apiKey, version: 'weekly', libraries: ['places']});\r\n     * ```\r\n     */\r\n    constructor({ apiKey, channel, client, id = DEFAULT_ID, libraries = [], language, region, version, mapIds, nonce, retries = 3, url = \"https://maps.googleapis.com/maps/api/js\", }) {\r\n        this.CALLBACK = \"__googleMapsCallback\";\r\n        this.callbacks = [];\r\n        this.done = false;\r\n        this.loading = false;\r\n        this.errors = [];\r\n        this.version = version;\r\n        this.apiKey = apiKey;\r\n        this.channel = channel;\r\n        this.client = client;\r\n        this.id = id || DEFAULT_ID; // Do not allow empty string\r\n        this.libraries = libraries;\r\n        this.language = language;\r\n        this.region = region;\r\n        this.mapIds = mapIds;\r\n        this.nonce = nonce;\r\n        this.retries = retries;\r\n        this.url = url;\r\n        if (Loader.instance) {\r\n            if (!fastDeepEqual(this.options, Loader.instance.options)) {\r\n                throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(Loader.instance.options)}`);\r\n            }\r\n            return Loader.instance;\r\n        }\r\n        Loader.instance = this;\r\n    }\r\n    get options() {\r\n        return {\r\n            version: this.version,\r\n            apiKey: this.apiKey,\r\n            channel: this.channel,\r\n            client: this.client,\r\n            id: this.id,\r\n            libraries: this.libraries,\r\n            language: this.language,\r\n            region: this.region,\r\n            mapIds: this.mapIds,\r\n            nonce: this.nonce,\r\n            url: this.url,\r\n        };\r\n    }\r\n    /**\r\n     * CreateUrl returns the Google Maps JavaScript API script url given the [[LoaderOptions]].\r\n     *\r\n     * @ignore\r\n     */\r\n    createUrl() {\r\n        let url = this.url;\r\n        url += `?callback=${this.CALLBACK}`;\r\n        if (this.apiKey) {\r\n            url += `&key=${this.apiKey}`;\r\n        }\r\n        if (this.channel) {\r\n            url += `&channel=${this.channel}`;\r\n        }\r\n        if (this.client) {\r\n            url += `&client=${this.client}`;\r\n        }\r\n        if (this.libraries.length > 0) {\r\n            url += `&libraries=${this.libraries.join(\",\")}`;\r\n        }\r\n        if (this.language) {\r\n            url += `&language=${this.language}`;\r\n        }\r\n        if (this.region) {\r\n            url += `&region=${this.region}`;\r\n        }\r\n        if (this.version) {\r\n            url += `&v=${this.version}`;\r\n        }\r\n        if (this.mapIds) {\r\n            url += `&map_ids=${this.mapIds.join(\",\")}`;\r\n        }\r\n        return url;\r\n    }\r\n    /**\r\n     * Load the Google Maps JavaScript API script and return a Promise.\r\n     */\r\n    load() {\r\n        return this.loadPromise();\r\n    }\r\n    /**\r\n     * Load the Google Maps JavaScript API script and return a Promise.\r\n     *\r\n     * @ignore\r\n     */\r\n    loadPromise() {\r\n        return new Promise((resolve, reject) => {\r\n            this.loadCallback((err) => {\r\n                if (!err) {\r\n                    resolve();\r\n                }\r\n                else {\r\n                    reject(err);\r\n                }\r\n            });\r\n        });\r\n    }\r\n    /**\r\n     * Load the Google Maps JavaScript API script with a callback.\r\n     */\r\n    loadCallback(fn) {\r\n        this.callbacks.push(fn);\r\n        this.execute();\r\n    }\r\n    /**\r\n     * Set the script on document.\r\n     */\r\n    setScript() {\r\n        if (document.getElementById(this.id)) {\r\n            // TODO wrap onerror callback for cases where the script was loaded elsewhere\r\n            this.callback();\r\n            return;\r\n        }\r\n        const url = this.createUrl();\r\n        const script = document.createElement(\"script\");\r\n        script.id = this.id;\r\n        script.type = \"text/javascript\";\r\n        script.src = url;\r\n        script.onerror = this.loadErrorCallback.bind(this);\r\n        script.defer = true;\r\n        script.async = true;\r\n        if (this.nonce) {\r\n            script.nonce = this.nonce;\r\n        }\r\n        document.head.appendChild(script);\r\n    }\r\n    deleteScript() {\r\n        const script = document.getElementById(this.id);\r\n        if (script) {\r\n            script.remove();\r\n        }\r\n    }\r\n    resetIfRetryingFailed() {\r\n        const possibleAttempts = this.retries + 1;\r\n        if (this.done && !this.loading && this.errors.length >= possibleAttempts) {\r\n            this.deleteScript();\r\n            this.done = false;\r\n            this.loading = false;\r\n            this.errors = [];\r\n        }\r\n    }\r\n    loadErrorCallback(e) {\r\n        this.errors.push(e);\r\n        if (this.errors.length <= this.retries) {\r\n            const delay = this.errors.length * Math.pow(2, this.errors.length);\r\n            console.log(`Failed to load Google Maps script, retrying in ${delay} ms.`);\r\n            setTimeout(() => {\r\n                this.deleteScript();\r\n                this.setScript();\r\n            }, delay);\r\n        }\r\n        else {\r\n            this.onerrorEvent = e;\r\n            this.callback();\r\n        }\r\n    }\r\n    setCallback() {\r\n        window.__googleMapsCallback = this.callback.bind(this);\r\n    }\r\n    callback() {\r\n        this.done = true;\r\n        this.loading = false;\r\n        this.callbacks.forEach((cb) => {\r\n            cb(this.onerrorEvent);\r\n        });\r\n        this.callbacks = [];\r\n    }\r\n    execute() {\r\n        if (window.google && window.google.maps && window.google.maps.version) {\r\n            console.warn(\"Aborted attempt to load Google Maps JS with @googlemaps/js-api-loader.\" +\r\n                \"This may result in undesirable behavior as script parameters may not match.\");\r\n            this.callback();\r\n        }\r\n        this.resetIfRetryingFailed();\r\n        if (this.done) {\r\n            this.callback();\r\n        }\r\n        else {\r\n            if (this.loading) ;\r\n            else {\r\n                this.loading = true;\r\n                this.setCallback();\r\n                this.setScript();\r\n            }\r\n        }\r\n    }\r\n}\n\nexport { DEFAULT_ID, Loader };\n//# sourceMappingURL=index.esm.js.map\n","<template>\n  <div>\n    <base-header class=\"pb-6\">\n      <b-row align-v=\"center\" class=\"py-4\">\n        <b-col lg=\"6\" cols=\"7\" >\n          <h6 class=\"h2 text-white d-inline-block mb-0\">{{$route.name}}</h6>\n          <nav aria-label=\"breadcrumb\" class=\"d-none d-md-inline-block ml-md-4\">\n            <route-breadcrumb/>\n          </nav>\n        </b-col>\n        <b-col lg=\"6\" cols=\"5\" class=\"text-right\">\n          <base-button size=\"sm\" type=\"neutral\">New</base-button>\n          <base-button size=\"sm\" type=\"neutral\">Filters</base-button>\n        </b-col>\n      </b-row>\n    </base-header>\n\n    <b-container fluid class=\"mt--6\">\n      <b-row>\n        <b-col>\n          <b-card no-body class=\"border-0\">\n            <div id=\"map\" class=\"map-canvas\"\n                 style=\"height: 600px;\"></div>\n          </b-card>\n        </b-col>\n      </b-row>\n    </b-container>\n  </div>\n</template>\n<script>\nimport { Loader } from \"@googlemaps/js-api-loader\";\nconst loader = new Loader({ apiKey: \"YOUR_API_KEY\" });\n\n  export default {\n    mounted() {\n      loader.load().then(function () {\n        // Regular Map\n        const myLatlng = new google.maps.LatLng(40.748817, -73.985428);\n        const mapOptions = {\n          zoom: 13,\n          center: myLatlng,\n          scrollwheel: false, // we disable de scroll over the map, it is a really annoing when you scroll through page\n          disableDefaultUI: true, // a way to quickly hide all controls\n          zoomControl: true,\n          styles: [\n            {\n              featureType: \"administrative\",\n              elementType: \"labels.text.fill\",\n              stylers: [{ color: \"#444444\" }],\n            },\n            {\n              featureType: \"landscape\",\n              elementType: \"all\",\n              stylers: [{ color: \"#f2f2f2\" }],\n            },\n            {\n              featureType: \"poi\",\n              elementType: \"all\",\n              stylers: [{ visibility: \"off\" }],\n            },\n            {\n              featureType: \"road\",\n              elementType: \"all\",\n              stylers: [{ saturation: -100 }, { lightness: 45 }],\n            },\n            {\n              featureType: \"road.highway\",\n              elementType: \"all\",\n              stylers: [{ visibility: \"simplified\" }],\n            },\n            {\n              featureType: \"road.arterial\",\n              elementType: \"labels.icon\",\n              stylers: [{ visibility: \"off\" }],\n            },\n            {\n              featureType: \"transit\",\n              elementType: \"all\",\n              stylers: [{ visibility: \"off\" }],\n            },\n            {\n              featureType: \"water\",\n              elementType: \"all\",\n              stylers: [{ color: \"#5e72e4\" }, { visibility: \"on\" }],\n            },\n          ],\n        };\n        const map = new google.maps.Map(\n          document.getElementById(\"map\"),\n          mapOptions\n        );\n        const marker = new google.maps.Marker({\n          position: myLatlng,\n          title: \"Regular Map!\",\n        });\n        marker.setMap(map);\n      });\n    },\n  };\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GoogleMaps.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GoogleMaps.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GoogleMaps.vue?vue&type=template&id=442fa33e&\"\nimport script from \"./GoogleMaps.vue?vue&type=script&lang=js&\"\nexport * from \"./GoogleMaps.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Calendar.vue?vue&type=style&index=0&id=68abcc02&prod&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('base-header',{staticClass:\"pb-6\"},[_c('b-row',{staticClass:\"py-4\",attrs:{\"align-v\":\"center\"}},[_c('b-col',{attrs:{\"lg\":\"6\",\"cols\":\"7\"}},[_c('h6',{staticClass:\"h2 text-white d-inline-block mb-0\"},[_vm._v(_vm._s(_vm.$route.name))]),_c('nav',{staticClass:\"d-none d-md-inline-block ml-md-4\",attrs:{\"aria-label\":\"breadcrumb\"}},[_c('route-breadcrumb')],1)]),_c('b-col',{staticClass:\"text-right\",attrs:{\"lg\":\"6\",\"cols\":\"5\"}},[_c('base-button',{attrs:{\"size\":\"sm\",\"type\":\"neutral\"}},[_vm._v(\"New\")]),_c('base-button',{attrs:{\"size\":\"sm\",\"type\":\"neutral\"}},[_vm._v(\"Filters\")])],1)],1)],1),_c('b-container',{staticClass:\"mt--6\",attrs:{\"fluid\":\"\"}},[_c('b-row',[_c('b-col',[_c('b-card',{attrs:{\"no-body\":\"\"}},[_c('b-card-body',{staticClass:\"pt-0\"},[_c('async-world-map',{staticClass:\"map map-big\",attrs:{\"map-data\":_vm.mapData,\"points\":_vm.points}})],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <base-header class=\"pb-6\">\n      <b-row align-v=\"center\" class=\"py-4\">\n        <b-col lg=\"6\" cols=\"7\">\n          <h6 class=\"h2 text-white d-inline-block mb-0\">{{$route.name}}</h6>\n          <nav aria-label=\"breadcrumb\" class=\"d-none d-md-inline-block ml-md-4\">\n            <route-breadcrumb/>\n          </nav>\n        </b-col>\n        <b-col lg=\"6\" cols=\"5\" class=\"text-right\">\n          <base-button size=\"sm\" type=\"neutral\">New</base-button>\n          <base-button size=\"sm\" type=\"neutral\">Filters</base-button>\n        </b-col>\n      </b-row>\n    </base-header>\n\n    <b-container fluid class=\"mt--6\">\n      <b-row >\n        <b-col>\n          <b-card no-body>\n            <b-card-body class=\"pt-0\">\n              <async-world-map class=\"map map-big\"\n                               :map-data=\"mapData\"\n                               :points=\"points\">\n              </async-world-map>\n            </b-card-body>\n          </b-card>\n        </b-col>\n      </b-row>\n    </b-container>\n\n  </div>\n</template>\n<script>\nimport AsyncWorldMap from '@/components/WorldMap/AsyncWorldMap.vue';\n\nexport default {\n  components: {\n    AsyncWorldMap\n  },\n  data() {\n    return {\n      mapData: {\n        AUS: 760,\n        BRA: 900,\n        CAN: 120,\n        DEU: 1300,\n        FRA: 540,\n        GBR: 690,\n        GEO: 200,\n        IND: 200,\n        ROU: 600,\n        RUS: 757,\n        USA: 1800\n      },\n      points: [\n        {\n          name: 'Brazil',\n          centered: 'BRA',\n        },\n        {\n          name: 'France',\n          centered: 'FRA',\n        },\n        {\n          name: 'Italy',\n          centered: 'ITA',\n        },\n        {\n          name: 'Oman',\n          centered: 'OMN',\n        },\n        {\n          name: 'Indonesia',\n          centered: 'IDN',\n        },\n        {\n          name: 'Romania',\n          centered: 'ROU',\n        }\n      ]\n    };\n  }\n};\n</script>\n<style>\n#worldMap {\n  width: 100%;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VectorMaps.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VectorMaps.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VectorMaps.vue?vue&type=template&id=69608983&\"\nimport script from \"./VectorMaps.vue?vue&type=script&lang=js&\"\nexport * from \"./VectorMaps.vue?vue&type=script&lang=js&\"\nimport style0 from \"./VectorMaps.vue?vue&type=style&index=0&id=69608983&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}